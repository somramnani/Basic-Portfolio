if (self.CavalryLogger) { CavalryLogger.start_js(["j5EUk"]); }

__d("XGamesNavigationSliderAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/navigationslider/",{id:{type:"String",required:!0},referral_objects:{type:"StringVector",defaultValue:[]},num_items_per_page:{type:"Int",required:!0},num_rows:{type:"Int",defaultValue:1},width:{type:"Int",required:!0},height:{type:"Int",required:!0},days_since:{type:"Int"},row_type:{type:"Enum",enumType:1},upsell_type:{type:"Enum",enumType:1}})}),null);
__d("CanvasNavigationSlider",["AsyncRequest","DataStore","Event","XGamesNavigationSliderAsyncController"],(function(a,b,c,d,e,f){__p&&__p();var g="GamesNavigationSlider";h.init=function(a,b){"use strict";return new h(a,b)};function h(a,c){"use strict";__p&&__p();this.$1=c.autoscroll;this.$2=a;this.$3=c.referral_objects;this.$4=a.getNode().id;this.$5=c.height;this.$6=c.width;this.$7=c.days_since;this.$8=c.num_items_per_page;this.$9=c.num_rows;this.$10=!1;this.$11=c.row_type;this.$12=c.upsell_type;b("DataStore").set(g,this.$4,this);(a.getIndex()>0||this.$1)&&this.$13();var d=b("Event").listen(a.getNextArrow(),"click",function(){d.remove(),this.$13()}.bind(this).bind(this))}h.prototype.$13=function(){"use strict";if(this.$10)return;this.$10=!0;var a=b("XGamesNavigationSliderAsyncController").getURIBuilder().setString("id",this.$4).setInt("num_items_per_page",this.$8).setInt("num_rows",this.$9).setInt("width",this.$6).setInt("height",this.$5);this.$11&&(a=a.setEnum("row_type",this.$11));this.$12&&(a=a.setEnum("upsell_type",this.$12));this.$7&&(a=a.setInt("days_since",this.$7));new(b("AsyncRequest"))(a.getURI()).setData({referral_objects:this.$3}).send()};h.prototype.$14=function(a){"use strict";a.forEach(function(a){this.$2.push(a)}.bind(this))};h.update=function(a,c){"use strict";a=b("DataStore").get(g,a);a.$14(c)};e.exports=h}),null);
__d("ChannelConnectionEvents",[],(function(a,b,c,d,e,f){e.exports={CONNECTED:"chat-connection/connected",RECONNECTING:"chat-connection/reconnecting",SHUTDOWN:"chat-connection/shutdown",MUTE_WARNING:"chat-connection/mute",UNMUTE_WARNING:"chat-connection/unmute"}}),null);
__d("ChannelConnection",["Arbiter","ArbiterMixin","ChannelConnectionEvents","ChannelConstants","ChannelManager","JSLogger","Run","SystemEvents","Visibility","clearTimeout","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("JSLogger").create("channel_connection"),i=null,j=null,k=null,l=null,m=0;b("ChannelManager").startChannelManager();c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.CONNECTED=b("ChannelConnectionEvents").CONNECTED,this.RECONNECTING=b("ChannelConnectionEvents").RECONNECTING,this.SHUTDOWN=b("ChannelConnectionEvents").SHUTDOWN,this.MUTE_WARNING="chat-connection/mute",this.UNMUTE_WARNING="chat-connection/unmute",this.unmuteWarning=p,c}a.prototype.disconnected=function(){"use strict";return l===n.SHUTDOWN||l===n.RECONNECTING&&!j&&m>1};a.prototype.isShutdown=function(){"use strict";return l===n.SHUTDOWN};a.prototype.reconnect=function(a){a===void 0&&(a=!1);if(b("ChannelManager").state==="ping"||b("ChannelManager").state==="pull"||b("ChannelManager").isShutdown())return;h.log("reconnect",{now:a});n.inform(n.RECONNECTING,0);a?(i!==null&&(b("clearTimeout")(i),i=null),b("ChannelManager").enterState("ping!")):i||(i=b("setTimeoutAcrossTransitions")(function(){b("ChannelManager").enterState("ping!"),i=null},b("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC));b("ChannelManager").resetDelay()};a.prototype.mockAfterLoad=function(){"use strict";t(),u()};var n=new a();b("Run").onBeforeUnload(function(){});function o(){j&&(b("clearTimeout")(j),j=null)}function p(){o(),h.log("unmute_warning"),n.inform(n.UNMUTE_WARNING)}function q(a){o(),j=b("setTimeoutAcrossTransitions")(p,a),h.log("mute_warning",{time:a}),n.inform(n.MUTE_WARNING)}function r(){k&&(b("clearTimeout")(k),k=null)}function s(a,c){__p&&__p();r();if(a===b("ChannelConstants").ON_ENTER_STATE&&(c.nextState||c.state)==="pull"){if(l!==n.CONNECTED){h.log("connected");var d=!l;l=n.CONNECTED;m=0;n.inform(n.CONNECTED,{init:d})}}else a===b("ChannelConstants").ON_ENTER_STATE&&((c.nextState||c.state)==="ping"||!c.nextState&&c.state==="idle")?k=b("setTimeoutAcrossTransitions")(function(){var b=null;c.state==="idle"&&!c.nextState||(b=c.delay||0);h.log("reconnecting",{delay:b});n.disconnected()&&h.log("reconnecting_ui",{delay:b});l=n.RECONNECTING;c.state==="idle"&&m++;m>1?n.inform(n.RECONNECTING,b):!c.nextState&&c.state==="idle"&&s(a,c)},500):a===b("ChannelConstants").ON_SHUTDOWN&&(h.log("shutdown",{reason:c.reason}),l=n.SHUTDOWN,m=0,n.inform(n.SHUTDOWN,c.reason))}function t(){b("ChannelManager").isShutdown()?s(b("ChannelConstants").ON_SHUTDOWN,b("ChannelManager")._shutdownHint):s(b("ChannelConstants").ON_ENTER_STATE,{state:b("ChannelManager").state,nextState:b("ChannelManager").nextState,delay:0}),b("Visibility").addListener(b("Visibility").VISIBLE,n.reconnect)}b("Run").onAfterLoad(t);function u(){b("Arbiter").subscribe([b("ChannelConstants").ON_ENTER_STATE,b("ChannelConstants").ON_SHUTDOWN],s),b("Arbiter").subscribe(b("ChannelConstants").ATTEMPT_RECONNECT,function(){n.disconnected()&&n.reconnect()}),b("SystemEvents").subscribe(b("SystemEvents").TIME_TRAVEL,function(){n.reconnect(),q(b("ChannelConstants").MUTE_WARNING_TIME_MSEC)}),b("Run").onBeforeUnload(r,!1)}b("Run").onAfterLoad(u);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.channel_connected=!n.disconnected()});e.exports=n}),3);
__d("NubController",["csx","ArbiterMixin","Dock"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a){this.el=a;this.nubButton=a.querySelector(".fbNubButton");this.closeButton=a.querySelector("._2dv8");b("Dock").registerNubController(a,this);this.closeButton&&this.closeButton.addEventListener("click",this.hide.bind(this));return this},buttonContentChanged:function(){this.inform("nub/button/content-changed")},flyoutContentChanged:function(){this.inform("nub/flyout/content-changed")},hide:function(){b("Dock").hide(this.el)},show:function(){b("Dock").show(this.el)}});e.exports=a}),null);
__d("BuddyListNub",["csx","cx","fbt","Arbiter","AsyncRequest","AvailableList","BootloadedComponent.react","ChannelConnection","ChatConfig","ChatOptions","ChatSidebarActions","ChatSidebarStore","ChatSidebarVisibility","ChatVisibility","CSS","Dock","DOM","Event","JSLogger","JSResource","KeyboardShortcuts","Keys","NubController","OrderedFriendsList","Parent","PresencePrivacy","PresenceStatus","PresenceUtil","React","ReactDOM","Run","SidebarType","Style","Toggler","emptyFunction","gkx","intlNumUtils","translateKey"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("gkx")("697231"),l=40,m=253,n=k?"277px":"285px",o=b("JSLogger").create("buddylist_nub");c=babelHelpers.inherits(a,b("NubController"));j=c&&c.prototype;function a(a,c,d,e){"use strict";__p&&__p();j.constructor.call(this);j.init.call(this,a);this.root=a;this.orderedList=c;this.button=b("DOM").find(a,"a.fbNubButton");this.unreadCount=b("DOM").find(a,"span._5ayx");this.label=b("DOM").find(a,"span.label");this.buddyListTitle=b("DOM").find(a,".titlebarTextWrapper");this.body=b("DOM").scry(a,"div.fbNubFlyoutBody")[0];this.container=b("Parent").bySelector(a,"._56ox");var f=b("DOM").find(a,"div.fbNubFlyoutTitlebar");b("Toggler").createInstance(f).setSticky(!1);b("Toggler").createInstance(a).setSticky(!0);e&&b("Run").onAfterLoad(function(){this.dropdown=b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:b("SidebarType").BUDDYLIST}),e)}.bind(this));c.subscribeOnce("render",this.flyoutContentChanged.bind(this));b("Run").onAfterLoad(function(){__p&&__p();var a=b("DOM").find(f,"div._4k48");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(this.button,"div._1us9");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(this.button,"div._1usa");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:b("SidebarType").BUDDYLIST_NUB}),a);a=b("DOM").find(f,"div._3gl7");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub")}),a);a=b("DOM").find(this.button,"div._3gll");a&&b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub"),className:"newGCF"}),a)}.bind(this));c.setScrollContainer(this.body);b("AvailableList").subscribe("buddylist/availability-changed",this._updateCount.bind(this));b("Arbiter").subscribe("chat/connect",function(){return this._handleConnect(!0)}.bind(this));b("Arbiter").subscribe("chat/option-changed",function(a,b){b.name=="hide_groups"?this.onResize():b.name==="hide_buddylist"&&(b.value?this.hide():this.show())}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").CONNECTED,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").SHUTDOWN,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe(b("ChannelConnection").RECONNECTING,function(){return this._updateView()}.bind(this));b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],function(){return this._updateView()}.bind(this));this.subscribe("show",this.onShow.bind(this));this.subscribe("hide",this.onHide.bind(this));this.subscribe("resize",this.onResize.bind(this));b("Event").listen(a,"keydown",this._onKeyDown.bind(this));b("Event").listen(this.button,"click",this.onButtonClick.bind(this));b("KeyboardShortcuts").register("q",function(a){this._isOpen||(this.onButtonClick(),this.show()),a.prevent()}.bind(this),{persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("q")],description:i._("Search Messenger contacts")}});b("Arbiter").subscribe("minisidebar/show",this.hide.bind(this));b("Arbiter").subscribe("sidebar/visibility",function(a,b){b?this.hide():this._onSidebarHide()}.bind(this));b("Style").set(this.body,"min-height",n);b("Arbiter").subscribe("sidebar/typeahead/active",function(a,c){c?(this._typeaheadActive=!0,b("CSS").hide(this.body.parentNode),this.orderedList.hide(),this.onResize()):(this._typeaheadActive=!1,this.onResize(),b("CSS").show(this.body.parentNode),this.orderedList.show())}.bind(this));b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&b("ChatSidebarStore").getVisibleType()===b("SidebarType").BUDDYLIST&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.length>0&&this.show(),b("Event").listen(f,"click",function(a){b("CSS").matchesSelector(a.target,".titlebarTextWrapper")&&this._syncHideBuddylist(!0)}.bind(this)),this._updateView(),o.log("buddylist_initialized")}.bind(this))}a.prototype._handleVisibilityChange=function(){"use strict";this._updateView(),b("ChatVisibility").isOnline()||this.hide()};a.prototype._updateView=function(a){"use strict";__p&&__p();var c;if(!b("ChatVisibility").isOnline())a=b("gkx")("807896")?i._("{Chat}",[i._param("Chat",i._("Chat"))]):i._("{Chat} (Off)",[i._param("Chat",i._("Chat"))]);else if(b("ChannelConnection").disconnected())a=i._("{Chat} (Disconnected)",[i._param("Chat",i._("Chat"))]);else{var d=b("PresenceStatus").getOnlineCount();if(d){var e=b("DOM").create("span",{className:"count"},"("+b("intlNumUtils").formatNumberWithThousandDelimiters(d)+")");a=i._({"*":"{Chat} {number-available}"},[i._param("Chat",i._("Chat")),i._param("number-available",e,[0,d])])}else a=i._("Chat"),c=!0}this._setPresenceIcon();this._setUnread();this._setLabel(a,c);this._updateBuddyListTitle();this.buttonContentChanged()};a.prototype._updateBuddyListTitle=function(){"use strict";__p&&__p();if(!k)return;var a,c=i._("Chat"),d="_6d4h";if(!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())a=b("DOM").create("div",{"class":d},c);else{var e=b("PresenceStatus").getOnlineCount(),f;e&&(d="_6d4h _6d4i",f=b("DOM").create("div",{"class":"_6d4j"},i._("{subTitle} online",[i._param("subTitle",b("intlNumUtils").formatNumberWithThousandDelimiters(e))])));e=b("DOM").create("div",{"class":d},c);f&&b("DOM").appendContent(e,f);a=e}d=this.buddyListTitle.textContent||this.buddyListTitle.innerText;if(a&&d!==a){c=this.buddyListTitle.cloneNode(!0);b("DOM").setContent(c,a);b("DOM").replace(this.buddyListTitle,c);this.buddyListTitle=c}};a.prototype._setPresenceIcon=function(){"use strict";b("CSS").conditionClass(this.root,"offline",!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())};a.prototype.onButtonClick=function(){"use strict";if(!b("ChatSidebarStore").isInitialized())return!0;b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){c=b("ChatSidebarStore").isEnabled();!c&&a?b("ChatSidebarActions").enable(b("SidebarType").SIDEBAR):b("ChatSidebarActions").show(c&&a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)})};a.prototype.onHide=function(){"use strict";this._isOpen=!1,this._buddyListRenderSubscription&&(this.orderedList.unsubscribe(this._buddyListRenderSubscription),this._buddyListRenderSubscription=null),this._hideBuddyList(),b("Arbiter").inform("buddylist/hide")};a.prototype._onKeyDown=function(a){"use strict";a=b("Event").getKeyCode(a);if(a===b("Keys").ESC&&!b("CSS").hasClass(this.root,"menuOpened")){this.hide();return!1}else a==b("Keys").RETURN&&b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){b("ChatSidebarActions").enable(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)})};a.prototype._onSidebarHide=function(a){"use strict";b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.lenth>0?this.show():this.hide()}.bind(this))};a.prototype.onResize=function(){"use strict";var a=this._typeaheadActive?b("Dock").getMaxFlyoutHeight(this.root)-60:m;b("Arbiter").inform("buddyList/resized",a,"persistent");this._typeaheadActive?b("Style").set(this.body,"max-height","none"):b("Style").set(this.body,"max-height",n);a=Math.max(250,a);a=Math.floor(a/l);this.orderedList.setNumTopFriends(a,!1,b("SidebarType").BUDDYLIST)};a.prototype._showBuddyList=function(){"use strict";this._buddyListRenderSubscription=this.orderedList.subscribe("render",function(){b("Style").get(this.body,"height")!=n&&b("Style").set(this.body,"height",n)}.bind(this)),this.orderedList.show(),o.bump("buddylist_show")};a.prototype._hideBuddyList=function(){"use strict";this.orderedList.hide(),o.bump("buddylist_hide")};a.prototype.onShow=function(){"use strict";this._isOpen=!0,b("ChannelConnection").disconnected()?(b("ChannelConnection").reconnect(),this._showBuddyList()):b("ChatVisibility").goOnline(this._showBuddyList.bind(this)),this._syncHideBuddylist(!1)};a.prototype._setLabel=function(a,c){"use strict";var d=this.label.textContent||this.label.innerText;if(d!==a){d=this.label.cloneNode(!0);b("DOM").setContent(d,a);b("DOM").replace(this.label,d);this.label=d}this.throbber&&b("CSS").conditionShow(this.throbber,!!c)};a.prototype._setUnread=function(a){"use strict";b("CSS").conditionShow(this.unreadCount,!!a)};a.prototype._updateCount=function(){"use strict";this._updateView()};a.prototype._syncHideBuddylist=function(a){"use strict";b("ChatOptions").setSetting("hide_buddylist",a,"buddylist"),new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({hide_buddylist:a,window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()};b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){c.buddylist_visible=b("ChatSidebarStore").getVisibleType()===b("SidebarType").BUDDYLIST});e.exports=a}),null);
__d("QPLTimeToLoadHelper",["QuickPerformanceLogger","Run","crc32","performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a&&b("crc32")(a)||0}function h(a){return b("performance")&&b("performance").timing&&b("performance").timing.navigationStart&&a<b("performance").timing.navigationStart?a+b("performance").timing.navigationStart:a}function i(a){a.time!=null&&(a.time=h(a.time));var c=g(a.instanceKey);b("QuickPerformanceLogger").markerStart(a.qplMarker,c,a.time);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,"SOURCE",a.source,c);b("Run").onUnload(function(){return b("QuickPerformanceLogger").markerEnd(a.qplMarker,"CANCEL",c)})}a={startWithClickEvent:function(a){i(babelHelpers["extends"]({},a,{time:a.event.timeStamp}))},start:function(a){i(a)},annotateString:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,a.annotationKey,a.annotationValue,c)},annotateInt:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,a.annotationKey,a.annotationValue,c)},addPoint:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").markerPoint(a.qplMarker,a.pointName,a.data,c,a.time!=null?h(a.time):a.time)},end:function(a){var c=a.time!=null?h(a.time):a.time,d=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,"END_TIME",c==null?-1:c,d);b("QuickPerformanceLogger").markerEnd(a.qplMarker,a.action?a.action:"SUCCESS",d,c)}};e.exports=a}),null);
__d("XLiveVideoLoadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/video/load/",{video_id:{type:"FBID",required:!0}})}),null);
__d("NotificationListRendererUtils",["AsyncRequest","Bootloader","FBLogger","FeedQuickLogModule","NavigationMetrics","NotificationURI","PageTransitions","QPLTimeToLoadHelper","URI","VideoChainingCaller","XLiveVideoLoadController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){b("Bootloader").loadModules(["FBStoriesLiveNotificationHandler"],function(a){a.renderLiveStory(c)},"NotificationListRendererUtils")}function h(a,c,d){b("Bootloader").loadModules(["TahoeController"],function(a){var e=b("NotificationURI").localize(new(b("URI"))(d.url)),f=c.video_channel_caller;a.openFromVideoLink(new(b("URI"))(e),{channelID:c.video_channel_id,caller:f?(a=b("VideoChainingCaller"))!=null?a[f]:a:null})},"NotificationListRendererUtils")}function i(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type",c.alert_id)}function j(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type"),b("NavigationMetrics").once(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){a=c.tti;c.tti||(a=c.e2e,b("QPLTimeToLoadHelper").annotateString({qplMarker:b("FeedQuickLogModule").LOAD_STORY_PERMALINK_FROM_ANYWHERE_WWW,annotationKey:"TIMESTAMP_ERROR",annotationValue:"NO_TTI"}));b("QPLTimeToLoadHelper").end({qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a})})}var k={openNotification:function(a,c){__p&&__p();var d=c.renderer_data;if(d==null)return;if(!k.isStoryOnlyLiveVideoNotification(c)&&(a.metaKey||a.ctrlKey||a.button===1))return;if(d.__typename==="LiveVideoNotificationRendererData"){a.preventDefault();d=b("XLiveVideoLoadController").getURIBuilder().setFBID("video_id",d.video_id).getURI();d=new(b("AsyncRequest"))(d).setHandler(function(d){d.payload?k.openNotificationInSurface(a,c):b("PageTransitions").go(c.url)});d.send()}},openNotificationInSurface:function(a,b){var c=b.renderer_data;if(c==null)return;c.bucket_data?g(a,c):c.can_render_in_tahoe&&h(a,c,b)},isStoryOnlyLiveVideoNotification:function(a){a=a.renderer_data;return a==null?!1:a.__typename==="LiveVideoNotificationRendererData"&&!!a.bucket_data},startTTLMarkers:function(a,c){b("gkx")("678283")&&i(a,c),b("gkx")("678284")&&j(a,c)}};e.exports=k}),null);
__d("RelationshipDelightTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAlertID=function(a){this.$1.alert_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={alert_id:!0,event:!0,metadata:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RelationshipDelightUtils",["NotificationRelationshipDelightsConfig","QE2Logger","RelationshipDelightTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a){a=a.eligible_buckets;return!!a&&a.indexOf("SO_NOTIFICATIONS")!==-1}function i(){b("QE2Logger").logExposureForUser(b("NotificationRelationshipDelightsConfig").universeName)}function a(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateNotificationWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForNotification;if(h(a)===!1)return!1;d&&i();return c===!0}function j(a,c,d){var e=c+"-"+a;if(g[e])return;g[e]=!0;e=new(b("RelationshipDelightTypedLogger"))().setEvent(c).setAlertID(a);d&&e.setMetadata(JSON.stringify(d));e.log()}c={shouldHeartBadge:function(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateBadgeWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForBadge;if(h(a)===!1)return!1;d&&i();return c===!0},shouldHeartBeeper:a,shouldHeartNotification:a,logNotificationAnimation:function(a,b,c){j(a,"notification_animated",{animation:b,rowIndex:c})},logBeeperAnimation:function(a){j(a,"beeper_animated")},logBadgeAnimation:function(a){j(a,"badge_animated")}};e.exports=c}),null);
__d("NotificationBeeperItemContents.react",["cx","Animation","AsyncRequest","BootloadedComponent.react","Bootloader","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","JSResource","NotificationBeeperItemCloseButton.react","NotificationInterpolator","NotificationListRendererUtils","NotificationURI","NotificationUserActions","React","ReactDOM","RelationshipDelightUtils","TextWithEntities.react","Timestamp.react","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.isLiveVideo=null,this.$2=function(a){__p&&__p();this.$1();this.props.onHide();if(a.button===1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;var c=this.props.notification;b("NotificationListRendererUtils").openNotification(a,c);if(a.isDefaultPrevented()===!0)return;var d=c.primerAttributes;if(d&&(d.rel==="async"||d.rel==="async-post")){var e=new(b("AsyncRequest"))(d.ajaxify||c.url);d.rel==="async-post"&&e.setMethod("POST");e.send();a.preventDefault()}else d&&d.rel==="theater"?(a.persist(),b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget)},"NotificationBeeperItemContents.react"),a.preventDefault()):d&&(d.rel==="dialog"||d.rel==="dialog-post")&&(b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget,"dialog")},"NotificationBeeperItemContents.react"),a.preventDefault())}.bind(this),this.$3=function(){this.$1(),this.props.onHide()}.bind(this),c}a.prototype.$1=function(){"use strict";b("NotificationUserActions").markNotificationsAsRead([this.props.notification.alert_id])};a.prototype.$4=function(){"use strict";new(b("Animation"))(b("ReactDOM").findDOMNode(this.refs.inner)).from("opacity","0").to("opacity","1").duration(200).go()};a.prototype.$5=function(){"use strict";var a=this.$6();a=JSON.parse(a);return a.content_id};a.prototype.$7=function(){"use strict";if(this.isLiveVideo===null){var a=this.$6();this.isLiveVideo=a.indexOf("live_video")!==-1}return!!this.isLiveVideo};a.prototype.$6=function(){"use strict";return this.props.notification.tracking||"{}"};a.prototype.$8=function(){"use strict";var a=this.props.notification,c=b("RelationshipDelightUtils").shouldHeartBeeper(a);if(!c)return null;b("RelationshipDelightUtils").logBeeperAnimation(a.alert_id);return b("React").createElement("div",{className:"_5_xp"},b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationBeeperItemContents.react")}))};a.prototype.componentDidMount=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.$7()&&b("Bootloader").loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode"],function(a,b){b=this.$5();b&&a.genVideoData(b)}.bind(this),"NotificationBeeperItemContents.react")};a.prototype.componentDidUpdate=function(a){"use strict";(a.notification.alert_id!==this.props.notification.alert_id||a.notification.creation_time!==this.props.notification.creation_time)&&(this.$4(),this.props.onReadyToHide(this.props.notification.alert_id))};a.prototype.render=function(){"use strict";var a=this.props.notification,c=a.thumbnail?a.thumbnail.uri:null,d=a.icon?a.icon.uri:null,e=b("NotificationURI").localize(new(b("URI"))(a.url));return b("React").createElement("div",{ref:"inner",className:this.props.className},b("React").createElement(b("NotificationBeeperItemCloseButton.react"),{onClick:this.$3}),b("React").createElement("a",{href:e,onClick:this.$2,className:"_3soi"},b("React").createElement(b("ImageBlock.react"),{className:"_3soj",spacing:"medium"},b("React").createElement(b("FBProfilePhotoShadow.react"),{className:"_2yt7"},b("React").createElement(b("Image.react"),{src:c,className:"_3sok"+(c?"":" hidden_elem")})),b("React").createElement("div",{className:"_3sol"},b("React").createElement(b("TextWithEntities.react"),{renderEmoticons:!0,renderEmoji:!0,interpolator:b("NotificationInterpolator"),ranges:a.title.ranges,aggregatedranges:a.title.aggregated_ranges,text:a.title.text}),b("React").createElement(b("ImageBlock.react"),{className:"_3som"},b("React").createElement(b("Image.react"),{className:"_1x8t"+(d?"":" hidden_elem"),src:d}),b("React").createElement(b("Timestamp.react"),{time:a.timestamp.time,text:a.timestamp.text,verbose:a.timestamp.verbose})))),this.$8()))};e.exports=a}),null);
__d("NotificationBeeperItem.react",["cx","CSSFade","NotificationBeeperConst","NotificationBeeperItemContents.react","NotificationBeeperItemRenderersList","React","ReactDOM","Style","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").FADE_OUT_LENGTH;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={encounteredException:!1,fadedIn:!1,hidden:!1},this.$3=function(){this.setState({hidden:!0})}.bind(this),b}a.prototype.componentDidCatch=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.setState(function(a){return babelHelpers["extends"]({},a,{encounteredException:!0})})};a.prototype.componentDidMount=function(){"use strict";b("setTimeoutAcrossTransitions")(function(){this.setState({fadedIn:!0})}.bind(this),50),this.props.onInserted(this.props.notification.alert_id)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.cancel()};a.prototype.render=function(){"use strict";if(this.state.encounteredException)return null;var a=this.props.notification,c=a.renderer_data;a=a.tracking;c=this.$4(c);return b("React").createElement("li",{className:this.state.hidden?"hidden_elem":"",ref:function(a){return this.$2=a}.bind(this),"data-gt":a},b("React").createElement(c,{className:"_3sod"+(this.state.fadedIn?" _3soe":""),notification:this.props.notification,onHide:this.$3,onReadyToHide:this.props.onReadyToHide,onPreventHide:this.props.onPreventHide}))};a.prototype.componentDidUpdate=function(a,c,d){"use strict";if(!this.$2)return;a=b("ReactDOM").findDOMNode(this.$2);if(!a)return;this.props.fadingOut?(this.$1=b("CSSFade").hide(a,{callback:this.$3,duration:i}),a.style.transitionDuration="0ms"):(this.$1&&(this.$1.cancel(),this.$1=void 0),b("Style").set(a,"opacity","1"))};a.prototype.$4=function(a){"use strict";return a&&a.__typename==="LiveVideoNotificationRendererData"&&a.video_id==null?b("NotificationBeeperItemContents.react"):b("NotificationBeeperItemRenderersList")[a&&a.__typename]||b("NotificationBeeperItemContents.react")};e.exports=a}),null);
__d("NotificationImpressions",["AsyncSignal","NotificationTokens","URI"],(function(a,b,c,d,e,f){var g="/ajax/notifications/impression.php";function a(a,c){var d={ref:c};b("NotificationTokens").untokenizeIDs(a).forEach(function(a,b){d["alert_ids["+b+"]"]=a});new(b("AsyncSignal"))(new(b("URI"))(g).getQualifiedURI().toString(),d).send()}e.exports={log:a}}),null);
__d("NotificationBeeper.react",["cx","Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationBeeperConst","NotificationBeeperItem.react","NotificationConstants","NotificationImpressions","NotificationSound","NotificationUpdates","NotificationUserActions","NotifTestIDs","React","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").ACTIVE_DELAY_LONG,j=b("NotificationBeeperConst").BeepStates,k=b("NotificationBeeperConst").FADE_OUT_LENGTH,l=b("NotificationBeeperConst").IDLE_DELAY,m="beeper";c=b("NotificationConstants").PayloadSourceType;var n=c.CLIENT,o=c.OTHER_APPLICATION;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={beeps:{},fading:!1,hovering:!1,soundEnabled:this.props.soundEnabled},this.onMouseEnter=function(){this.$2&&b("clearTimeout")(this.$2);var a=[],c=this.state.beeps;Object.keys(c).forEach(function(b){c[b].state!=j.PENDING?a.push(b):c[b].state=j.RENDERED});b("NotificationUserActions").markNotificationsAsSeen(a);this.setState({hovering:!0,fading:!1,beeps:c})}.bind(this),this.onMouseLeave=function(){this.$5(i),this.setState({hovering:!1})}.bind(this),this.$6=function(a){this.state.hovering||this.$5(),this.state.soundEnabled&&this.state.beeps[a].shouldPlaySound&&(this.$3||(this.$3=new(b("NotificationSound"))(this.props.soundPath)),this.$3.play(a)),this.props.shouldLogImpressions&&b("NotificationImpressions").log([a],m)}.bind(this),this.onReadyToHide=function(a,b){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.READY_TO_HIDE});return babelHelpers["extends"]({},b,{beeps:c})}),this.$2||this.$5(b)}.bind(this),this.$8=function(a){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.RENDERED});return babelHelpers["extends"]({},b,{beeps:c})})}.bind(this),this.$7=function(){this.$2=null,this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.READY_TO_HIDE&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.FADING_OUT}))});return babelHelpers["extends"]({},a,{beeps:b,fading:!0})}),b("setTimeoutAcrossTransitions")(b("shield")(this.$9,this),k)}.bind(this),this.$9=function(){__p&&__p();if(!this.state.fading)return;this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.FADING_OUT&&delete b[a]});return babelHelpers["extends"]({},a,{beeps:b,fading:!1})});b("setTimeoutAcrossTransitions")(function(){this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.PENDING&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.RENDERED}))});return babelHelpers["extends"]({},a,{beeps:b})})}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";__p&&__p();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("NotificationUpdates").subscribe("update-notifications",function(a,b){if(b.payloadsource===o||b.payloadsource===n){a=b.nodes;a&&a.length&&this.handleBeepChanges(this.$4(a))}}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notif_sound_pref_changed"),function(a,b){this.setState({soundEnabled:b.obj.enabled})}.bind(this)));a.addSubscriptions(b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_BEEPER",callback:function(a){var b=a.notification;a=a.should_play_sound;if(b!==null){var c;this.handleBeepChanges((c={},c[b.alert_id]={notification:b,shouldPlaySound:a},c))}}.bind(this)}));this.$1=a;b("Arbiter").inform("NotificationBeeper/mounted",null,"persistent")};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.release(),this.$1=null};a.prototype.$5=function(a){"use strict";this.$2&&b("clearTimeout")(this.$2),this.$2=b("setTimeoutAcrossTransitions")(b("shield")(this.$7,this),a==null?l:a)};a.prototype.handleBeepChanges=function(a){"use strict";var b=this.state.fading?j.PENDING:j.RENDERED,c=!1,d=babelHelpers["extends"]({},this.state.beeps);Object.keys(a).reverse().forEach(function(e){var f=a[e],g=d[e];(!g||g.notification.alert_id!==f.notification.alert_id||g.notification.creation_time!==f.notification.creation_time)&&(g&&(c=!0,delete d[e]),d[e]=babelHelpers["extends"]({},f,{state:b}))});c&&this.$5();this.setState({beeps:d})};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.beeps,c=[];Object.keys(a).reverse().forEach(function(d){var e=a[d];if(e.state==j.PENDING)return;c.push(b("React").createElement(b("NotificationBeeperItem.react"),{key:d,fadingOut:this.state.fading&&e.state==j.FADING_OUT,notification:e.notification,onInserted:this.$6,onReadyToHide:this.onReadyToHide,onPreventHide:this.$8}))}.bind(this),this);var d=c.length>0;d=(d?"":"hidden_elem")+" _50d1";return b("React").createElement("ul",{ref:"container",className:d,"data-gt":this.props.tracking,"data-testid":b("NotifTestIDs").BEEPER_LIST,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},c)};a.prototype.$4=function(a){"use strict";return a.reduce(function(a,b){a[b.alert_id]={notification:b,shouldPlaySound:!1};return a},{})};e.exports=a}),null);
__d("NotificationBeeperContainer",["NotificationBeeper.react","React","ReactDOM"],(function(a,b,c,d,e,f){a={renderBeeper:function(a,c){b("ReactDOM").render(b("React").createElement(b("NotificationBeeper.react"),a),c)}};e.exports=a}),null);
__d("LiveVideoBeeperItemContents.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("LiveVideoBeeperItemContentsImpl.react").__setRef("LiveVideoBeeperItemContents.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},this.props,{ref:"itemContents"}))})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XWorkUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/user_settings/",{})}),null);
__d("DockNubs",["AsyncRequest","CSS","WorkUserSettings","XWorkUserSettingsUpdateController"],(function(a,b,c,d,e,f){__p&&__p();var g="hidden_elem",h=b("WorkUserSettings").hideDock,i=null,j=[],k={init:function(a){i=a,k.registerSubscriber(k._updateCssClasses)},isVisible:function(){return!h},registerSubscriber:function(a){j.push(a);a(h);return{unsubscribe:function(){k._unregisterSubscriber(a)}}},_unregisterSubscriber:function(a){j=j.filter(function(b){return b!==a})},_updateSubscribers:function(){j.forEach(function(a){return a(h)})},toggleVisibility:function(){if(!i)return;h=!h;this._saveVisibilityPreferences(h);this._updateSubscribers()},_saveVisibilityPreferences:function(a){var c=b("XWorkUserSettingsUpdateController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({hide_dock:a}).send()},_updateCssClasses:function(){if(!i)return;h?b("CSS").addClass(i,g):b("CSS").removeClass(i,g)}};e.exports=k}),null);
__d("KeyboardShortcutFlyout.react",["cx","fbt","Bootloader","KeyboardShortcuts","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()},c}a.prototype.render=function(){return b("React").createElement("div",{className:"_yqu _2ph_ _2pim"},b("React").createElement("table",{className:"_67br"},b("React").createElement("tbody",null,this.$2())))};a.prototype.componentDidMount=function(){this.$1=b("KeyboardShortcuts").subscribe(["cleanup","token_added"],function(){this.setState({shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()})}.bind(this)),b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut_flyout_shown").log()},"KeyboardShortcutFlyout.react")};a.prototype.componentWillUnmount=function(){b("KeyboardShortcuts").unsubscribe(this.$1)};a.prototype.$2=function(){return this.state.shortcutInfos.length?this.state.shortcutInfos.map(this.$3):h._("No shortcuts on this page")};a.prototype.$3=function(a,c){return b("React").createElement("tr",{key:"shortcut_info_"+c,className:"_3-12"},b("React").createElement("th",{className:"_2pin _52ju"},a.displayKeys.map(function(c,a){return b("React").createElement("span",{className:"_3-28 _2e42 _653d _52jv",key:a},c)})),b("React").createElement("td",{className:"_2pin _2pii"},a.description))};e.exports=a}),null);
__d("ReactNub",["csx","DOM","Focus","NubController","Parent","React","ReactDOM","getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("NubController"));h=c&&c.prototype;function a(a,c){__p&&__p();h.constructor.call(this);this.$ReactNub4=function(){b("ReactDOM").unmountComponentAtNode(this.$ReactNub1),b("Focus").set(this.$ReactNub3),this.$ReactNub3!==b("getActiveElement")()&&b("Focus").set(this.nubButton)}.bind(this);this.$ReactNub5=function(){this.$ReactNub3=b("getActiveElement")();var a=this.$ReactNub2;b("ReactDOM").render(b("React").createElement(a,null),this.$ReactNub1);b("Focus").set(this.closeButton)}.bind(this);this.$ReactNub1=a;this.$ReactNub2=c;c=b("Parent").bySelector(a,"._50-v");h.init.call(this,c);b("DOM").empty(a);this.subscribe("hide",this.$ReactNub4);this.subscribe("show",this.$ReactNub5)}e.exports=a}),null);
__d("FBPaymentsDialogStore",["FBPaymentsDialogActions","FBPaymentsDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBPaymentsDispatcher")),this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null}}a.prototype.__onDispatch=function(a){var c=a.type;a=a.data;switch(c){case b("FBPaymentsDialogActions").types.SHOW_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:a.dialogClass,dialogProps:a.dialogProps};this.__emitChange();break;case b("FBPaymentsDialogActions").types.HIDE_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};this.__emitChange();break}};a.prototype.getState=function(){return this.$FBPaymentsDialogStore1};a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsDialogContainer.react",["FBPaymentsDialogStore","FBPaymentsDispatcher","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.calculateState=function(){return b("FBPaymentsDialogStore").getState()};a.getStores=function(){return[b("FBPaymentsDialogStore")]};a.prototype.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(b("FBPaymentsDialogStore"))};a.prototype.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("FBPaymentsDialogContainerMount",["FBPaymentsDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("FBPaymentsDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("XGamesReplaceableXOutAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/xout/replace/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},extra_data:{type:"String"},query_type:{type:"String"},query_params:{type:"String"},excluded_app_ids:{type:"StringVector",defaultValue:[]},attributes:{type:"String"}})}),null);
__d("GamesReplaceableXOutHelper",["invariant","Parent","XGamesReplaceableXOutAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();var h="data-games-xout-container",i=0,j={},k={};function l(a){a=b("Parent").byAttribute(a,h);if(a){var c=parseInt(a.getAttribute(h),10);c===0&&(i+=1,c=i.toString(),a.setAttribute(h,c));return c}}function m(a){a=l(a);a||g(0,4728);return a}function n(a){a=j[m(a)];return a?Object.keys(a):[]}function a(a,b){return o(a,[b])}function o(a,b){a=l(a);if(a){a=j[a]=j[a]||{};for(var c=0;c<b.length;c+=1)a[b[c]]=!0}}function c(a){a=m(a);a&&(delete j[a],delete k[a])}function d(a,c){return b("XGamesReplaceableXOutAsyncController").getURIBuilder().setInt("app_id",c.appID).setString("extra_data",c.extraData).setString("attributes",c.attributes).setString("query_type",a.getAttribute("data-games-xout-query-type")).setString("query_params",a.getAttribute("data-games-xout-query-params")).setString("unit_type",c.unitType).setInt("fbs",a.getAttribute("data-games-xout-fbs")).setStringVector("excluded_app_ids",n(a)).getURI()}function f(a,b){a=l(a);if(!a)return;a=k[a]=k[a]||[];a.length===0&&b();a.push(b)}function p(a){a=m(a);a=k[a];a&&(a.shift(),a.length>0&&a[0]())}a={getBoundAppIDs:n,registerAppID:a,registerAppIDs:o,deleteContainer:c,queueRequest:f,processQueuedRequests:p,createURI:d};e.exports=a}),null);
__d("GamesReplaceableXOutListener",["csx","cx","AsyncRequest","CSS","DOM","Event","GamesReplaceableXOutHelper","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={};function j(a,c,d){d=d.payload;if(!d)return;b("GamesReplaceableXOutHelper").registerAppID(a,d.app_id);b("GamesReplaceableXOutHelper").processQueuedRequests(c);i[d.app_id]=d.item_data;b("DOM").replace(c,d.el)}function k(a){return b("Event").listen(a,"click",function(c){c=c.target;if(!b("CSS").matchesSelector(c,"._1m6e"))return;var d=b("Parent").bySelector(c,"._2b2u"),e=c.getAttribute("data-appid"),f=i[e];b("CSS").addClass(d,"_4ksu");b("GamesReplaceableXOutHelper").queueRequest(d,function(){new(b("AsyncRequest"))(b("GamesReplaceableXOutHelper").createURI(a,f)).setHandler(function(b){return j(a,d,b)}).setMethod("POST").send(),delete i[e]})})}a={registerContainerItems:function(a,c,d){b("GamesReplaceableXOutHelper").registerAppIDs(a,c),d.forEach(function(c){var d=c.appID;i[d]=c;b("GamesReplaceableXOutHelper").registerAppID(a,d)}),k(a,c)}};e.exports=a}),null);
__d("XGamesHideableXOutAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/xout/hide/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},extra_data:{type:"String"}})}),null);
__d("GamesUninstallXOut.react",["cx","AsyncRequest","CSS","Dialog","DOMContainer.react","GamesXOut.react","React","ReactDOM","URI","XGamesHideableXOutAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={pending:!1},this.$1=function(){var a=b("XGamesHideableXOutAsyncController").getURIBuilder().setInt("app_id",this.props.appID).setString("extra_data",this.props.extraData).setString("unit_type",this.props.unitType).setInt("fbs",this.props.fbs).getURI();this.$2=new(b("AsyncRequest"))(a).setMethod("POST");this.$2.send()}.bind(this),this.$3=function(){var a=new(b("URI"))("/ajax/settings/apps/delete_app.php").setQueryData({app_id:this.props.appID,legacy:!1,dialog:!0,xout:!0});new(b("Dialog"))().setAsync(new(b("AsyncRequest"))(a).setRelativeTo(b("ReactDOM").findDOMNode(this))).setCausalElement(b("ReactDOM").findDOMNode(this)).show()}.bind(this),c}a.appUninstalled=function(a){"use strict";b("CSS").addClass(a,"_4ksu")};a.prototype.render=function(){"use strict";return b("React").createElement(b("GamesXOut.react"),{onClick:this.$3},b("React").createElement(b("DOMContainer.react"),null,this.props.domChild))};a.propTypes={unitType:c.string.isRequired,appID:c.string.isRequired,domChild:c.any.isRequired,extraData:c.string.isRequired,fbs:c.number.isRequired};e.exports=a}),null);
__d("FantaTabsEagerBootloader",["Bootloader","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){"use strict";var g=function(a){b("ifRequired")("FantaAppStore",function(b){return b.addReducers(a)}),g=b("emptyFunction")};a={bootload:function(){b("ifRequired")("FantaTabsSlimApp",function(a){a.silentPumpUp()}),b("Bootloader").loadModules(["FantaReducersGetMessages","FantaTabsReactApp","MessengerGraphQLThreadFetcher.bs"],function(a){g(a)},"FantaTabsEagerBootloader")}};e.exports=a}),null);
__d("MNCommerceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null},RETAIL_ITEM:{LOADED:null,LOAD_ERROR:null,RELOAD:null},PROMOTION_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},TRANSACTION_INVOICE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},BOT_REVIEW_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null}});e.exports=a}),null);
__d("MNCommerceDialogStateStore",["FluxStore","MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("MessengerDispatcher")),this.$MNCommerceDialogStateStore1=null,this.$MNCommerceDialogStateStore2=null}a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type;switch(c){case b("MNCommerceActionTypes").DIALOG.SHOW:this.$MNCommerceDialogStateStore1=a.dialogContainer;this.$MNCommerceDialogStateStore2=a.state;this.__emitChange();break;case b("MNCommerceActionTypes").DIALOG.HIDE:this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;this.__emitChange();break}};a.prototype.getDialogContainer=function(){return this.$MNCommerceDialogStateStore1};a.prototype.getState=function(){return this.$MNCommerceDialogStateStore2};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PureStoreBasedStateMixin",["invariant","FluxMixinLegacyInstrumentation","StoreBasedStateMixinHelper","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("FluxMixinLegacyInstrumentation").addInstrumentation({_callCalculateState:function(){return this.constructor.calculateState()},getInitialState:function(){this._onInitialStateForInstrumentation&&this._onInitialStateForInstrumentation();return this._callCalculateState()},UNSAFE_componentWillMount:function(){__p&&__p();this.constructor.calculateState||g(0,2396);this._recalculateStateID=null;var a=function(){if(this.isMounted()){var a=this._collectStoreEmitsForInstrumentation?this._collectStoreEmitsForInstrumentation():null,b=this._callCalculateState();this.setState(this._logStoreEmitsForInstrumentation!=null?function(){a!=null&&this._logStoreEmitsForInstrumentation&&this._logStoreEmitsForInstrumentation(a);return b}.bind(this):b)}this._recalculateStateID=null}.bind(this);this._mixin=new(b("StoreBasedStateMixinHelper"))(c);this._mixin.subscribeCallback(function(){this._recalculateStateID===null&&(this._recalculateStateID=b("setImmediate")(a))}.bind(this),this._addStoreEmitForInstrumentation)},componentWillUnmount:function(){this._mixin.release(),this._mixin=null}})}.bind(this);e.exports=a}),null);
__d("MNCommerceDialogContainer.react",["MNCommerceDialogStateStore","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"MNCommerceDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MNCommerceDialogStateStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getDialogContainer();return{dialogContainer:a}}},render:function(){var a=this.state.dialogContainer;return!a?null:b("React").createElement(a,null)}});e.exports=a}),null);
__d("MNCommerceDialogContainerMount",["MNCommerceDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("MNCommerceDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("NotificationJewelReminderLoader",["promiseDone"],(function(a,b,c,d,e,f){e.exports={init:function(a,c){b("promiseDone")(a.load(),function(a){a.init(c)})}}}),null);
__d("P2PDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),b("P2PDispatcher").register(this.onEventDispatched.bind(this)),h={dialogClass:null,dialogProps:null}}a.prototype.getState=function(){return h};a.prototype.onEventDispatched=function(a){__p&&__p();var c=a.type;a=a.data;switch(c){case b("P2PActionConstants").DIALOG_SHOWN:h.dialogClass=a.dialogClass;h.dialogProps=a.dialogProps;this.emit("change");break;case b("P2PActionConstants").DIALOG_CLOSED:h.dialogClass=null;h.dialogProps=null;this.emit("change");break}};e.exports=new a()}),null);
__d("P2PDialogContainer.react",["P2PDialogStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state=b("P2PDialogStore").getState(),this.onDialogStoreChange=function(){this.setState(b("P2PDialogStore").getState())}.bind(this),c}a.prototype.componentDidMount=function(){this.dialogStoreSub=b("P2PDialogStore").addListener("change",this.onDialogStoreChange)};a.prototype.componentWillUnmount=function(){this.dialogStoreSub&&(this.dialogStoreSub.remove(),this.dialogStoreSub=null)};a.prototype.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};e.exports=a}),null);
__d("P2PDialogContainerMount",["P2PDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("P2PDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("PagesPlatformActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BOOKING_REQUEST_ACCEPT_ERROR:"booking_request_accept_error",BOOKING_REQUEST_ACCEPT_INITIATED:"booking_request_accept_initiated",BOOKING_REQUEST_ACCEPTED:"booking_request_accepted",BOOKING_REQUEST_CREATED:"booking_request_created",BOOKING_REQUEST_DECLINE_ERROR:"booking_request_decline_error",BOOKING_REQUEST_DECLINE_INITIATED:"booking_request_decline_initiated",BOOKING_REQUEST_DECLINED:"booking_request_declined",BOOKING_REQUEST_RESCHEDULE_INITIATED:"booking_request_reschedule_initiated",BOOKING_REQUEST_RESCHEULED:"booking_request_reschedule",DIALOG_CLOSED:"dialog_closed",DIALOG_SHOWN:"dialog_shown",NEW_TIME_CHOSEN:"new_time_chosen"});e.exports=a}),null);
__d("PagesPlatformRequestDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("PagesPlatformDialogStore",["EventEmitter","PagesPlatformActionConstants","PagesPlatformRequestDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),b("PagesPlatformRequestDispatcher").register(this.onEventDispatched.bind(this)),h={dialogClass:null,dialogProps:null}}a.prototype.getState=function(){return h};a.prototype.onEventDispatched=function(a){__p&&__p();var c=a.type;a=a.data;switch(c){case b("PagesPlatformActionConstants").DIALOG_SHOWN:h.dialogClass=a.dialogClass;h.dialogProps=a.dialogProps;this.emit("change");break;case b("PagesPlatformActionConstants").DIALOG_CLOSED:h.dialogClass=null;h.dialogProps=null;this.emit("change");break}};e.exports=new a()}),null);
__d("PagesPlatformDialogContainer.react",["PagesPlatformDialogStore","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"PagesPlatformDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("PagesPlatformDialogStore"))],statics:{calculateState:function(){return b("PagesPlatformDialogStore").getState()}},render:function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))}});e.exports=a}),null);
__d("PagesPlatformDialogContainerMount",["PagesPlatformDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").createElement(b("PagesPlatformDialogContainer.react"),null),a)}};e.exports=a}),null);
__d("Slideshow",["csx","cx","ArbiterMixin","CSS","DOM","Event","Parent","getActiveElement","mixin","shield"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));i=c&&c.prototype;function a(a,c){"use strict";__p&&__p();i.constructor.call(this),this._setCurrent=function(a){__p&&__p();var c=this._items[this._currentIndex];c&&b("CSS").removeClass(c,"_2xn");b("CSS").addClass(this._items[a],"_2xn");b("CSS").removeClass(this._root,"_2xm");c=c&&b("DOM").scry(c,"a").some(function(a){return a==b("getActiveElement")()});if(c){c=b("DOM").scry(this._items[a],"a");c[0]&&c[0].focus()}this._currentIndex=a;this._animating=!1;this.inform("page_end",a)}.bind(this),this.informAndResetAutoPlay=function(){this.resetAutoplay(),this._config.autoplay&&this.inform("reset_autoplay")}.bind(this),this.informAndStopAutoplay=function(){this.stopAutoplay(),this.inform("stop_autoplay")}.bind(this),this._root=a,this._config=c,this._currentIndex=0,this._animating=!1,this._autoplayTimer=null,this._autoplayTimeout=c.autoplayTimeout,this._init()}a.prototype.getNode=function(){"use strict";return this._root};a.prototype.getIndex=function(){"use strict";return this._currentIndex};a.prototype.getNumItems=function(){"use strict";return this._items.length};a.prototype.getNextArrow=function(){"use strict";return this._config.arrows?b("DOM").find(this._root,"a._2xw"):null};a.prototype.getPrevArrow=function(){"use strict";return this._config.arrows?b("DOM").find(this._root,"a._2xx"):null};a.prototype.page=function(a){"use strict";__p&&__p();a||(a="next");if(a==="next")(this._config.wrap||this.getIndex()<this.getNumItems()-1)&&this._animateTo((this.getIndex()+1)%this.getNumItems(),this.getIndex());else if(a==="prev"){if(this._config.wrap||this.getIndex()>0){a=(this.getNumItems()+this.getIndex()-1)%this.getNumItems();this._animateTo(a,this.getIndex())}}};a.prototype.pageTo=function(a){"use strict";this._animateTo(a,this.getIndex(),b("shield")(this._setCurrent,this,a))};a.prototype.insert=function(a,c){"use strict";a>this._currentIndex?b("DOM").insertAfter(this._items[a-1],c):(b("DOM").insertBefore(this._items[a],c),this._currentIndex++),this._items.splice(a,0,c),this._updateArrowState(),this.inform("items_updated")};a.prototype.push=function(a){"use strict";this.insert(this._items.length,a)};a.prototype.remove=function(a){"use strict";__p&&__p();if(a<0||a>=this._items.length)return;b("DOM").remove(this._items[a]);this._items=b("DOM").scry(this._container,"li._2xr");if(a===this._currentIndex&&this._items.length){a=a%this._items.length;this._conditionFade(this._items[a],!0,null);this._setCurrent(a)}this.inform("items_updated")};a.prototype._init=function(){"use strict";this._container=b("DOM").find(this._root,"ul._2xq"),this._items=b("DOM").scry(this._container,"li._2xr"),this._config.arrows&&(b("Event").listen(this._root,"click",this._clickListener.bind(this)),this._arrowNext=b("DOM").find(this._root,"a._2xw"),this._arrowPrev=b("DOM").find(this._root,"a._2xx")),this._config.autoplay&&(this._config.autoplaycontrol&&(b("Event").listen(this._root,"mouseenter",this.informAndStopAutoplay),b("Event").listen(this._root,"mouseleave",this.informAndResetAutoPlay)),this.resetAutoplay()),this.subscribe(["page_start","page_end"],function(a,c){b("CSS").conditionClass(this._root,"_2xm",a==="page_start")}.bind(this))};a.prototype._clickListener=function(a){"use strict";var c=a.getTarget();c=b("Parent").byTag(c,"a");c&&!b("CSS").matchesSelector(c,"._2xo")&&(b("CSS").matchesSelector(c,"._2xw")?(this.page("next"),a.preventDefault()):b("CSS").matchesSelector(c,"._2xx")&&(this.page("prev"),a.preventDefault()))};a.prototype._updateArrowState=function(){"use strict";if(!this._config.arrows)return;b("CSS").conditionClass(this._arrowNext,"_2xo",this._items.length===1);b("CSS").conditionClass(this._arrowPrev,"_2xo",this._items.length===1)};a.prototype._animateTo=function(a,b){b===void 0};a.prototype.startAutoplay=function(a){"use strict";this._config.autoplay=!0,this._autoplayTimeout=a,this.resetAutoplay()};a.prototype.resetAutoplay=function(){"use strict";this._config.autoplay&&(clearTimeout(this._autoplayTimer),this._autoplayTimer=setTimeout(this._autoplay.bind(this),this._autoplayTimeout))};a.prototype.stopAutoplay=function(){"use strict";clearTimeout(this._autoplayTimer),this._autoplayTimer=null};a.prototype._autoplay=function(){"use strict";this.resetAutoplay(),this._items.length>1&&this.page()};a.prototype.setAutoplayTimeout=function(a){"use strict";this._autoplayTimeout=a};e.exports=a}),null);
__d("Carousel",["cx","Animation","CSS","Ease","Locale","Slideshow","Style","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("Locale").isRTL()?"right":"left",j=b("Ease").sineInOut;c=babelHelpers.inherits(a,b("Slideshow"));h=c&&c.prototype;function a(a,b){"use strict";h.constructor.call(this,a,b),this.subscribe("items_updated",this._updateItemState.bind(this)),this._width=this._config.width}a.prototype._updateItemState=function(a,c){"use strict";this._setContainerPos(a),b("Style").set(this._container,"width",this._items.length*this._config.width+this._config.widthunit)};a.prototype._updateArrowState=function(a){"use strict";if(!this._config.arrows)return;var c=this._config.wrap,d=this._items.length;d=Math.floor(d/this._config.photosperframe);b("CSS").conditionClass(this._arrowNext,"_2xo",d===1||!c&&a===d-1);b("CSS").conditionClass(this._arrowPrev,"_2xo",d===1||!c&&a===0)};a.prototype._animate=function(a,c,d){c===void 0&&(c=null);var e=a===-1?this._items.length-1:a,f=0;f=this._calcOffset(a,this._config.width,this._config.peek,this._config.item_margin);this._animating=!0;this.inform("page_start",e);a=new(b("Animation"))(this._container).setUnit(this._config.widthunit).to(i,f).duration(this._config.animationDuration).ease(j).ondone(d);c!==null&&(e=this._calcOffset(c,this._config.width,this._config.peek,this._config.item_margin),a.from(i,e));a.go()};a.prototype._calcOffset=function(a,b,c,d){"use strict";if(this._config.peek_with_offset){var e=-a*(b-c*2);a>0&&(e=e+c-a*(d/2));a===this._items.length-1&&(e+=c);return e}else return-a*b};a.prototype._setContainerPos=function(a){"use strict";b("Style").set(this._container,i,-a*this._config.width+this._config.widthunit)};a.prototype._animateTo=function(a,c){__p&&__p();c===void 0&&(c=null);if(this._animating)return;var d=this._items.length;if(0<=a&&a<d||!this._config.wrap){var e=(a+d)%d;this._updateArrowState(e);return this._animate(e,c,b("shield")(this._setCurrent,this,e))}e=a%d;var f=e?d-1:0,g=this._items[d-1];b("Style").set(g,"position","absolute");b("Style").set(g,i,-this._config.width+this._config.widthunit);f===0&&this._setContainerPos(-1);this._animate(e,c,function(){b("Style").set(g,"position","static"),b("Style").set(g,i,"auto"),this._setContainerPos(f),this._setCurrent(f)}.bind(this))};e.exports=a}),null);