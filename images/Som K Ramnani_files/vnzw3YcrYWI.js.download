if (self.CavalryLogger) { CavalryLogger.start_js(["48Nc3"]); }

__d("CivicProposalNUXTour.react",["cx","fbt","Grid.react","GridItem.react","NuxTour.react","React","Run","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUXBody.react","XUIAmbientNUXTheme","XUIButton.react","ge"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={callbackInitialized:!1,componentsLoaded:!1,nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").CIVIC_PROPOSAL_PERMALINK),step:0},this.$1=function(){this.setState(function(a){return{step:a.step+1}})}.bind(this),c}a.prototype.$2=function(a,c,d){return b("React").createElement(b("XUIAmbientNUXBody.react"),{noCloseButton:!0},a,b("React").createElement(b("Grid.react"),{className:"_3-8x _21op",cols:3},b("React").createElement(b("GridItem.react"),{className:"_6sak"}),b("React").createElement(b("GridItem.react"),{className:"_6saj _52jv"},this.$3(d)),b("React").createElement(b("GridItem.react"),{className:"_6sak _52jw"},b("React").createElement(b("XUIButton.react"),{className:"_767c",onClick:this.$1,label:c,use:"confirm"}))))};a.prototype.$3=function(a){return b("React").createElement("span",{className:"_7718"},b("React").createElement("span",{className:"_7719"+(a===1?" _771a":"")}),b("React").createElement("span",{className:"_7719"+(a===2?" _771a":"")}),b("React").createElement("span",{className:"_7719"+(a===3?" _771a":"")}))};a.prototype.render=function(){__p&&__p();if(this.state.nuxShown)return null;this.state.callbackInitialized||(b("Run").onAfterLoad(function(){return this.setState({componentsLoaded:b("ge")(this.props.inviteID)!==null&&b("ge")(this.props.targetsID)!==null&&b("ge")(this.props.composerID)!==null})}.bind(this)),this.setState({callbackInitialized:!0}));if(!this.state.componentsLoaded)return null;var a=[{context:b("ge")(this.props.inviteID),render:function(){return this.$2(h._("Invite people who care about this issue to add their names in support of your community action."),h._("Next"),1)}.bind(this),isContextual:!0,alignment:"center",position:"below"},{context:b("ge")(this.props.targetsID),render:function(){return this.$2(h._("When you're ready, send your community action to your tagged representatives and agencies to show them why it's important to you and your community."),h._("Next"),2)}.bind(this),isContextual:!0,alignment:"center",position:"above"},{context:b("ge")(this.props.composerID),render:function(){return this.$2(h._("Write a post to help new supporters learn more about this issue and why you care about it."),h._("Done"),3)}.bind(this),isContextual:!0,alignment:"center",position:"above"}];if(a[this.state.step])a=[a[this.state.step]];else{b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").CIVIC_PROPOSAL_PERMALINK);this.setState({nuxShown:!0});return null}return b("React").createElement(b("NuxTour.react"),{steps:a,contextualDialogTheme:b("XUIAmbientNUXTheme"),contextualFooterClassName:"_1oi3",contextualWidth:250,hideOnBlur:!0,showNotNowButton:!1,visible:!0})};e.exports=a}),null);
__d("CivicProposalComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","DOM","DOMQuery","DOMScroll","Event","ReloadPage","Run","ViewportTrackingHelper","$","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i;function j(a){if(!a.streamStory){b("ReloadPage").now();return}k.renderStory(a.streamStory);b("ComposerXMarauderLogger").logCompleted(h.id)}var k={init:function(a){h=b("$")(a),i=b("Arbiter").subscribe("composer/publish",function(a,b){h&&b.composer_id===h.id&&j(b)}),b("Run").onLeave(k.destroy)},destroy:function(){i&&i.unsubscribe()},renderStory:function(a){var c=b("ge")("pagelet_civic_proposal_posts");if(c===null)return null;b("DOM").prependContent(c,a);b("Bootloader").loadModules(["Animation"],function(b){new b(a).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(b.ease.both).go()},"CivicProposalComposer");return a},addFocusTrigger:function(a){b("Event").listen(a,"click",k.focus)},focus:function(){k._scrollIntoView(function(){var a=b("DOMQuery").scry(h,"textarea");if(a[0])a[0].focus();else{a=b("DOMQuery").scry(h,"._5yk2");a[0]&&a[0].click()}})},_scrollIntoView:function(a){if(b("ViewportTrackingHelper").isVisible(h,200)){a();return}b("DOMScroll").scrollTo(h,750,!0,0,0,a)}};e.exports=k}),null);
__d("ReactComposerCivicProposalBootloader",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={statusAttachment:function(a){b("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerFeedPostButtonContainer.react"],a,"ReactComposerCivicProposalBootloader")},mediaAttachment:function(a){b("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerFeedPostButtonContainer.react"],a,"ReactComposerCivicProposalBootloader")},questionAttachment:function(a){b("Bootloader").loadModules(["ReactComposerQuestionAttachmentContainer.react","ReactComposerFeedPostButtonContainer.react"],a,"ReactComposerCivicProposalBootloader")}};e.exports=a}),null);
__d("ReactCivicProposalComposer.react",["cx","fbt","CivicProposalComposer","JSResource","LitestandComposer","React","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerCivicProposalBootloader","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerLazyHeader.react","ReactComposerListLazyAttachment.react","ReactComposerMediaAttachmentSelector.react","ReactComposerMediaLazyAttachment.react","ReactComposerQuestionLazyAttachment.react","ReactComposerStatusAttachmentSelector.react","ReactComposerStatusLazyAttachment.react","ReactComposerWithSprouts.react","XUISpinner.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("lazyLoadComponent")(b("JSResource")("ReactComposerActorSelectorContainer.react").__setRef("ReactCivicProposalComposer.react"));a=b("React").createClass({displayName:"ReactCivicProposalComposer",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,config:b("ReactComposerConfig").isRequired},componentDidMount:function(){b("CivicProposalComposer").init(this.props.contextConfig.composerID),b("LitestandComposer").initComposer(this.props.contextConfig.composerID)},render:function(){return b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig},ref:"root"},b("React").createElement(b("ReactComposerLazyHeader.react"),{background:"light-wash",noHorizontalMargin:!0,rightChild:this._renderActorSelector(),showDelimiter:!1},b("React").createElement(b("ReactComposerStatusAttachmentSelector.react"),{key:"status",label:h._("Write Post")}),b("React").createElement(b("ReactComposerMediaAttachmentSelector.react"),{key:"media",label:h._("Add Photo\/Video")})),b("React").createElement(b("ReactComposerBodyContainer.react"),{expanded:!0,hasMinHeight:!1},b("React").createElement(b("ReactComposerStatusLazyAttachment.react"),{key:"status",config:this.props.config,selected:!0,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),bootloader:b("ReactComposerCivicProposalBootloader"),placeholder:h._("Share why you support this...")}),b("React").createElement(b("ReactComposerMediaLazyAttachment.react"),{key:"media",config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),bootloader:b("ReactComposerCivicProposalBootloader"),selected:!1,label:h._("Add Photo\/Video")}),b("React").createElement(b("ReactComposerQuestionLazyAttachment.react"),{bootloader:b("ReactComposerCivicProposalBootloader"),config:this.props.config,key:b("ReactComposerAttachmentType").QUESTION}),b("React").createElement(b("ReactComposerListLazyAttachment.react"),{config:this.props.config,key:b("ReactComposerAttachmentType").LIST})))},_renderActorSelector:function(){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("XUISpinner.react"),{className:"_3igw"})},b("React").createElement(i,this.props.config.actorConfig))}});e.exports=a}),null);
__d("ReactComposerTagEventSproutContainer.react",["ExtensibleSproutsItemType","React","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:b("ReactComposerTaggerType").TAG_EVENT})};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").TAG_EVENT]};e.exports=a}),null);