if (self.CavalryLogger) { CavalryLogger.start_js(["uEkqT"]); }

__d("Asset3DBackgroundMap",[],(function(a,b,c,d,e,f){e.exports={one:{story:{normal:"3d-bkgrd-1.jpg",hd:"3d-bkgrd-1-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-1.jpg",hd:"3d-bkgrd-btn-1-2x.jpg"}},two:{story:{normal:"3d-bkgrd-2.jpg",hd:"3d-bkgrd-2-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-2.jpg",hd:"3d-bkgrd-btn-2-2x.jpg"}},three:{story:{normal:"3d-bkgrd-3.jpg",hd:"3d-bkgrd-3-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-3.jpg",hd:"3d-bkgrd-btn-3-2x.jpg"}},four:{story:{normal:"3d-bkgrd-4.jpg",hd:"3d-bkgrd-4-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-4.jpg",hd:"3d-bkgrd-btn-4-2x.jpg"}},five:{story:{normal:"3d-bkgrd-5.jpg",hd:"3d-bkgrd-5-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-5.jpg",hd:"3d-bkgrd-btn-5-2x.jpg"}},six:{story:{normal:"3d-bkgrd-6.jpg",hd:"3d-bkgrd-6-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-6.jpg",hd:"3d-bkgrd-btn-6-2x.jpg"}},seven:{story:{normal:"3d-bkgrd-7.jpg",hd:"3d-bkgrd-7-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-7.jpg",hd:"3d-bkgrd-btn-7-2x.jpg"}},eight:{story:{normal:"3d-bkgrd-8.jpg",hd:"3d-bkgrd-8-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-8.jpg",hd:"3d-bkgrd-btn-8-2x.jpg"}},nine:{story:{normal:"3d-bkgrd-9.jpg",hd:"3d-bkgrd-9-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-9.jpg",hd:"3d-bkgrd-btn-9-2x.jpg"}},ten:{story:{normal:"3d-bkgrd-10.jpg",hd:"3d-bkgrd-10-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-10.jpg",hd:"3d-bkgrd-btn-10-2x.jpg"}},eleven:{story:{normal:"3d-bkgrd-11.jpg",hd:"3d-bkgrd-11-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-11.jpg",hd:"3d-bkgrd-btn-11-2x.jpg"}},twelve:{story:{normal:"3d-bkgrd-12.jpg",hd:"3d-bkgrd-12-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-12.jpg",hd:"3d-bkgrd-btn-12-2x.jpg"}},thirteen:{story:{normal:"3d-bkgrd-13.jpg",hd:"3d-bkgrd-13-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-13.jpg",hd:"3d-bkgrd-btn-13-2x.jpg"}},fourteen:{story:{normal:"3d-bkgrd-14.jpg",hd:"3d-bkgrd-14-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-14.jpg",hd:"3d-bkgrd-btn-14-2x.jpg"}},fifteen:{story:{normal:"3d-bkgrd-15.jpg",hd:"3d-bkgrd-15-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-15.jpg",hd:"3d-bkgrd-btn-15-2x.jpg"}},sixteen:{story:{normal:"3d-bkgrd-16.jpg",hd:"3d-bkgrd-16-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-16.jpg",hd:"3d-bkgrd-btn-16-2x.jpg"}},seventeen:{story:{normal:"3d-bkgrd-17.jpg",hd:"3d-bkgrd-17-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-17.jpg",hd:"3d-bkgrd-btn-17-2x.jpg"}},eighteen:{story:{normal:"3d-bkgrd-18.jpg",hd:"3d-bkgrd-18-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-18.jpg",hd:"3d-bkgrd-btn-18-2x.jpg"}},twenty:{story:{normal:"3d-bkgrd-20.jpg",hd:"3d-bkgrd-20-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-20.jpg",hd:"3d-bkgrd-btn-20-2x.jpg"}},twentyone:{story:{normal:"3d-bkgrd-21.jpg",hd:"3d-bkgrd-21-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-21.jpg",hd:"3d-bkgrd-btn-21-2x.jpg"}},twentytwo:{story:{normal:"3d-bkgrd-22.jpg",hd:"3d-bkgrd-22-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-22.jpg",hd:"3d-bkgrd-btn-22-2x.jpg"}},twentythree:{story:{normal:"3d-bkgrd-23.jpg",hd:"3d-bkgrd-23-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-23.jpg",hd:"3d-bkgrd-btn-23-2x.jpg"}},twentyfour:{story:{normal:"3d-bkgrd-24.jpg",hd:"3d-bkgrd-24-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-24.jpg",hd:"3d-bkgrd-btn-24-2x.jpg"}},twentyfive:{story:{normal:"3d-bkgrd-25.jpg",hd:"3d-bkgrd-25-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-25.jpg",hd:"3d-bkgrd-btn-25-2x.jpg"}},twentysix:{story:{normal:"3d-bkgrd-26.jpg",hd:"3d-bkgrd-26-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-26.jpg",hd:"3d-bkgrd-btn-26-2x.jpg"}},twentyseven:{story:{normal:"3d-bkgrd-27.jpg",hd:"3d-bkgrd-27-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-27.jpg",hd:"3d-bkgrd-btn-27-2x.jpg"}},twentyeight:{story:{normal:"3d-bkgrd-28.jpg",hd:"3d-bkgrd-28-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-28.jpg",hd:"3d-bkgrd-btn-28-2x.jpg"}},twentynine:{story:{normal:"3d-bkgrd-29.jpg",hd:"3d-bkgrd-29-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-29.jpg",hd:"3d-bkgrd-btn-29-2x.jpg"}},thirty:{story:{normal:"3d-bkgrd-30.jpg",hd:"3d-bkgrd-30-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-30.jpg",hd:"3d-bkgrd-btn-30-2x.jpg"}},thirtyone:{story:{normal:"3d-bkgrd-31.jpg",hd:"3d-bkgrd-31-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-31.jpg",hd:"3d-bkgrd-btn-31-2x.jpg"}},thirtytwo:{story:{normal:"3d-bkgrd-32.jpg",hd:"3d-bkgrd-32-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-32.jpg",hd:"3d-bkgrd-btn-32-2x.jpg"}},thirtythree:{story:{normal:"3d-bkgrd-33.jpg",hd:"3d-bkgrd-33-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-33.jpg",hd:"3d-bkgrd-btn-33-2x.jpg"}},thirtyfour:{story:{normal:"3d-bkgrd-34.jpg",hd:"3d-bkgrd-34-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-34.jpg",hd:"3d-bkgrd-btn-34-2x.jpg"}},thirtyfive:{story:{normal:"3d-bkgrd-35.jpg",hd:"3d-bkgrd-35-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-35.jpg",hd:"3d-bkgrd-btn-35-2x.jpg"}},thirtysix:{story:{normal:"3d-bkgrd-36.jpg",hd:"3d-bkgrd-36-2x.jpg"},thumbnail:{normal:"3d-bkgrd-btn-36.jpg",hd:"3d-bkgrd-btn-36-2x.jpg"}},"default":{story:{normal:null,hd:null},thumbnail:{normal:null,hd:null}},medium:{story:{normal:"3d-bkgrd-medium.jpg",hd:"3d-bkgrd-medium-2x.jpg"},thumbnail:{normal:null,hd:null}},spaces:{story:{normal:"3d-bkgrd-spaces.jpg",hd:"3d-bkgrd-spaces-2x.jpg"},thumbnail:{normal:null,hd:null}},creator:{story:{normal:"3d-bkgrd-creator.jpg",hd:"3d-bkgrd-creator-2x.jpg"},thumbnail:{normal:null,hd:null}}}}),null);
__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){e.exports={1:[{validActors:3,photoLayouts:[[0,1,1,0]]}],2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("Asset3DBackgroundSize",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({THUMBNAIL:"thumbnail",STORY:"story"})}),null);
__d("XAsset3DUpdateFallbackImageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/update/",{id:{type:"FBID",required:!0}})}),null);
__d("dataUriToBlob",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();var b=a.split(",")[0].indexOf("base64")>=0,c=a.split(",")[0].split(":")[1].split(";")[0];a=b?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);if(b){b=new Uint8Array(a.length);for(var d=0;d<a.length;d++)b[d]=a.charCodeAt(d);d=[b]}else d=[a];return new Blob(d,{type:c})}e.exports=a}),null);
__d("isHDScreen",[],(function(a,b,c,d,e,f){"use strict";function a(){if(window.devicePixelRatio>1.5)return!0;var a="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";return window.matchMedia&&window.matchMedia(a).matches?!0:!1}e.exports=a}),null);
__d("Asset3DUtils",["ActorURI","Asset3DBackgroundMap","Asset3DBackgroundSize","AsyncRequest","XAsset3DUpdateFallbackImageController","dataUriToBlob","isHDScreen"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/images/asset3d/backgrounds/",h="/images/asset3d/backgrounds/thumbnails/";a={fileEquals:function(a,b){return!!a&&!!b&&a.name===b.name&&a.size===b.size&&a.lastModified===b.lastModified},getBackgroundStyles:function(a,c){__p&&__p();if(!a)return null;a=b("Asset3DBackgroundMap")[a];a&&(b("isHDScreen")()?a=a[c].hd:a=a[c].normal);if(a)switch(c){case b("Asset3DBackgroundSize").STORY:a=g+a;return{backgroundImage:"url("+a+")",backgroundSize:"cover"};case b("Asset3DBackgroundSize").THUMBNAIL:a=h+a;return{backgroundImage:"url("+a+")",backgroundSize:"100%"}}return null},takeScreenshot:function(a){return b("dataUriToBlob")(a.toDataURL("image/png"))},saveScreenshot:function(a,c,d,e){c=b("ActorURI").create(b("XAsset3DUpdateFallbackImageController").getURIBuilder().setFBID("id",String(c)).getURI(),d);d=new FormData();d.append("fallback_image",a);e&&d.append("fallback_depth_image",e);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setRawData(d).setErrorHandler(function(a){a&&a.errorDescription}).send()},getPanSpeed:function(a,b){var c=b.x,d=b.y;b=b.z;var e=a.x,f=a.y;a=a.z;c=Math.sqrt((c-e)*(c-e)+(d-f)*(d-f)+(b-a)*(b-a));return c},getCameraOrientation:function(a){__p&&__p();var b=a.target();b=b.position;a=a.model();a=a.position;a=a.clone().sub(b).normalize();b=a.x;var c=a.y;a=a.z;c=Math.asin(c);var d=Math.atan(b/a);if(b*a>0)if(b>0)return{yaw:d,pitch:c};else return{yaw:d+Math.PI,pitch:c};else if(b>0)return{yaw:d+Math.PI,pitch:c};else return{yaw:d,pitch:c}},polarCoordToCartesianCoord:function(a,b){var c=Math.cos(b)*Math.sin(a),d=Math.sin(b);b=Math.cos(b)*Math.cos(a);return{x:c,y:d,z:b}}};e.exports=a}),null);
__d("ComposerTargetData",[],(function(a,b,c,d,e,f){function a(a,b,c,d){"use strict";this.targetID=a,this.targetSupportsMultiplePhotos=b,this.viewerIsTarget=c,this.targetSupportsMultiMedia=d}e.exports=a}),null);
__d("DocumentUploadConfig",["DocumentUploadConfigInitialData"],(function(a,b,c,d,e,f){a={isSupported:function(a){if(!a)return!1;return b("DocumentUploadConfigInitialData").CONTENT_TYPES.length<=0?!1:b("DocumentUploadConfigInitialData").CONTENT_TYPES.includes(a)}};e.exports=a}),null);
__d("ComposerXDragDropUtils",["csx","Arbiter","CSS","DocumentUploadConfig","DOMQuery","Parent","VideoUploadFeatureDetector"],(function(a,b,c,d,e,f,g){__p&&__p();a={handleDragEnterAndLeave:function(a){var c=b("DOMQuery").scry(b("Parent").bySelector(a,"._119"),"._2wr");b("Arbiter").subscribe("dragenter",function(d,e){a==e.element&&c.forEach(b("CSS").hide)});b("Arbiter").subscribe("dragleave",function(d,e){a==e.element&&c.forEach(b("CSS").show)})},filterImages:function(a){var c=b("VideoUploadFeatureDetector").supportsFileAPI(),d=[];for(var e=0;e<a.length;e++){var f=a[e];f.type.match("image/*")?d.push(f):c&&f.type.match("video/*")?d.push(f):b("DocumentUploadConfig").isSupported(f.type)&&d.push(f)}return d}};e.exports=a}),null);
__d("TextDelightInputDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=".",i="delight";function a(a,b){this.__installedDecorators={textDelightsDecorator:!0},this.$2=a,this.$1=b,b&&Object.assign(this.__installedDecorators,b.__installedDecorators)}a.prototype.getDecorations=function(a,b){var c=this.$1?this.$1.getDecorations(a,b).toArray():Array(a.getText().length).fill(null),d=0,e=this.$2.strategy,f=function(a,b){j(c,a,b)&&(k(c,a,b,i+h+d),d++)};e(a,f,b);return g(c)};a.prototype.getComponentForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.component:this.$1.getComponentForKey(a)};a.prototype.getPropsForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.props:this.$1.getPropsForKey(a)};function j(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function k(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("TextDelightSpan.react",["cx","Bootloader","React","SubscriptionsHandler","TextDelightInComposerGating","TextDelightInComposerLogger","createObjectFrom"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=new(b("SubscriptionsHandler"))(),this.$4=function(){var a=this.props.contentState.getEntity(this.props.entityKey).getData();b("TextDelightInComposerLogger").rangeTapped(a.funnelKey,a.campaignID,a.keyword,a.surface)}.bind(this),this.$5=function(){var a=this.props.contentState.mergeEntityData(this.props.entityKey,{disabled:!0});a=a.getEntity(this.props.entityKey).getData();b("TextDelightInComposerLogger").optOutTapped(a.funnelKey,a.campaignID,a.keyword,a.surface);this.props.onXOut&&this.props.onXOut(a);this.props.triggerChange&&this.props.triggerChange()}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";__p&&__p();this.$2=!0;var a=this.props.contentState.getEntity(this.props.entityKey).getData();if(a.disabled)return;var c=a.campaignID;c&&b("Bootloader").loadModules(["TextDelightController"],function(b){if(this.$2===!1)return;this.$3.addSubscriptions(b.attachClickListener(this.$1,c,this.props.decoratedText,a.surface,this.$4))}.bind(this),"TextDelightSpan.react")};a.prototype.componentWillUnmount=function(){"use strict";this.$2=!1,this.$3.release()};a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.contentState.getEntity(this.props.entityKey).getData();if(a.disabled)return this.props.children;var c=a.styles,d=Object.keys(c);d=b("createObjectFrom")(d.map(function(a){return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),d.map(function(a){return c[a]}));a=b("TextDelightInComposerGating").isXbuttonEnabled(a.surface);var e=null;a&&(e=b("React").createElement("span",{role:"link",tabIndex:-1,className:"_6854",onClick:this.$5}));return b("React").createElement("span",babelHelpers["extends"]({},this.props,{style:d,"data-offset-key":this.props.offsetKey,className:"_3yzm",spellCheck:!1}),b("React").createElement("span",{className:"_2k9q",ref:function(a){this.$1=a}.bind(this)},this.props.children),e)};e.exports=a}),null);
__d("keyCommandBackspaceDelight",["EditorState","TextDelightInComposerLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return null;var d=c.getStartKey(),e=a.getCurrentContent();d=e.getBlockForKey(d);if(c.getAnchorOffset()===0)return null;var f=d.getEntityAt(c.getAnchorOffset()-1);if(!f)return null;var g=e.getEntity(f);if(g.getType()!=="DELIGHT")return null;if(g.getData().disabled)return null;if(d.getEntityAt(c.getAnchorOffset())===f)return null;e.mergeEntityData(f,{disabled:!0});g=e.getEntity(f).getData();b("TextDelightInComposerLogger").optOutBackspace(g.funnelKey,g.campaignID,g.keyword,g.surface);return b("EditorState").forceSelection(a,c)};e.exports=a}),null);
__d("addTextDelightInputImpl",["Bootloader","EditorState","React","TextDelightConfig","TextDelightInComposerGating","TextDelightInputDecorator","TextDelightSpan.react","TextDelightSurface","getEntityMatcher","keyCommandBackspaceDelight"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("TextDelightConfig").composerOptions,h=null;a=function(a,c){__p&&__p();return function(){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){__p&&__p();var a,d;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return d=(a=e.constructor).call.apply(a,[this].concat(h)),this.$1=function(a,d){__p&&__p();if(!b("TextDelightInComposerGating").isBackspaceEnabled(c))return"not-handled";var e=null;switch(a){case"backspace":e=b("keyCommandBackspaceDelight")(d);break}if(e){this.props.onChange(e);return"handled"}return this.props.handleKeyCommand?this.props.handleKeyCommand(a,d):"not-handled"}.bind(this),this.$2=null,this.$3=function(a){this.$2&&clearTimeout(this.$2),this.props.onChange&&this.props.onChange(a),a.getCurrentContent().hasText()&&g.autoHighlightThresholdMs>0&&(this.$2=setTimeout(function(){this.$4()}.bind(this),g.autoHighlightThresholdMs))}.bind(this),this.$5=function(){var a=this.props.editorState;this.$3(b("EditorState").create({currentContent:a.getCurrentContent(),decorator:a.getDecorator(),selection:a.getSelection()}))}.bind(this),d}f.prototype.blur=function(){"use strict";var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};f.prototype.click=function(){"use strict";var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};f.prototype.focus=function(){"use strict";var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};f.prototype.$4=function(){"use strict";if(!h){b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){h=a},"addTextDelightInputImpl");return}var a=h.matchLastWord(this.props.editorState,this.props.delightFunnelID,c);this.props.onChange&&this.props.onChange(a)};f.prototype.componentWillUnmount=function(){"use strict";clearTimeout(this.$2)};f.prototype.render=function(){__p&&__p();var d;if(!b("TextDelightInComposerGating").isEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));if(this.props.config&&this.props.config.actorConfig&&this.props.config.actorConfig.selectedActorID&&this.props.config.actorConfig.selectedActorID!==this.props.config.actorConfig.viewerAccountID)return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));var e=this.props.editorState,f=e.getDecorator();if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));c===b("TextDelightSurface").COMMENT&&(f==null||((d=f)!=null?(d=d.__installedDecorators)!=null?d.textDelightsDecorator:d:d)!==!0)&&(e=b("EditorState").set(e,{decorator:new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"}),component:b("TextDelightSpan.react"),props:{triggerChange:this.$5}},f)}));return b("React").createElement(a,babelHelpers["extends"]({},this.props,{onChange:this.$3,editorState:e,handleKeyCommand:this.$1,ref:"component"}))};return f}()}.bind(this);e.exports=a}),null);
__d("ComposerConfirmationDialogEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCorrelationID=function(a){this.$1.correlation_id=a;return this};a.prototype.setEventLocation=function(a){this.$1.event_location=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWebURI=function(a){this.$1.web_uri=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={correlation_id:!0,event_location:!0,event_name:!0,time:!0,vc:!0,web_uri:!0,weight:!0};e.exports=a}),null);
__d("XReactComposerLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/ods/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:!0,enumType:1},event:{type:"String",required:!0}})}),null);
__d("ReactComposerAttachmentLoader",["AsyncRequest","ReactComposerAttachmentActions","ReactComposerAttachmentInitState","ReactComposerAttachmentStore","ReactComposerStore","XReactComposerLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();a={load:function(a,c,d,e){__p&&__p();var f=b("ReactComposerAttachmentStore").getAttachment(a,c);if(!f||f.initState===b("ReactComposerAttachmentInitState").INITIALIZED)return;b("ReactComposerAttachmentActions").setInitialized(a,c);this._logToODS(a,"bootload_start",c);d(function(d,e){this._logToODS(a,"bootload_done",c),b("ReactComposerAttachmentActions").setBootloaded(a,c,d,e)}.bind(this));this._logToODS(a,"bootstrap_start",c);new(b("AsyncRequest"))(e).setHandler(function(){this._logToODS(a,"bootstrap_done",c),setTimeout(function(){return b("ReactComposerAttachmentActions").setBootstrapped(a,c)},0)}.bind(this)).send()},_logToODS:function(a,c,d){c=b("XReactComposerLoggingODSController").getURIBuilder().setString("event",c).setString("attachment_type",d).setEnum("composer_type",b("ReactComposerStore").getRef(a)).getURI();new(b("AsyncRequest"))(c).send()}};e.exports=a}),null);
__d("ReactComposerAttachmentPlaceholder.react",["cx","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=b("joinClasses")(this.props.className,"_2nt-");return b("React").createElement("div",{className:a},b("React").createElement(b("XUISpinner.react"),{className:"_2nt_",size:"large"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerPostToGroupActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null,CLOSE_NUX:null,LOG_EVENT:null},"ReactComposerPostToGroupActionType")}),null);
__d("XReactComposerPostToGroupLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/post_to_group/ods/",{event:{type:"String",required:!0}})}),null);
__d("ReactComposerPostToGroupStore",["AsyncRequest","ReactComposerPostToGroupActionType","ReactComposerStoreBase","XReactComposerPostToGroupLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{isTabSelected:!1,selectedGroup:null,showNux:!0}},function(c){__p&&__p();switch(c.type){case b("ReactComposerPostToGroupActionType").SELECT_TAB:a&&a.$ReactComposerPostToGroupStore1(c,!0);break;case b("ReactComposerPostToGroupActionType").UNSELECT_TAB:a&&a.$ReactComposerPostToGroupStore1(c,!1);break;case b("ReactComposerPostToGroupActionType").UPDATE_SELECTED_GROUP:a&&a.$ReactComposerPostToGroupStore2(c);break;case b("ReactComposerPostToGroupActionType").CLOSE_NUX:a&&a.$ReactComposerPostToGroupStore3(c);break;case b("ReactComposerPostToGroupActionType").LOG_EVENT:a&&a.$ReactComposerPostToGroupStore4(c);break}});a=this}a.prototype.getIsTabSelected=function(a){"use strict";return this.getComposerData(a).isTabSelected};a.prototype.getSelectedGroup=function(a){"use strict";return this.getComposerData(a).selectedGroup};a.prototype.getSelectedGroupID=function(a){"use strict";a=this.getComposerData(a).selectedGroup;return a?a.getUniqueID():null};a.prototype.getShowNux=function(a){"use strict";return this.getComposerData(a).showNux};a.prototype.$ReactComposerPostToGroupStore1=function(a,b){"use strict";a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isTabSelected=b;this.emitChange(a)};a.prototype.$ReactComposerPostToGroupStore2=function(a){"use strict";a=this.validateAction(a,["composerID","group"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedGroup=a;this.emitChange(b)};a.prototype.$ReactComposerPostToGroupStore3=function(a){"use strict";a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.showNux=!1;this.emitChange(a)};a.prototype.$ReactComposerPostToGroupStore4=function(a){"use strict";a=this.validateAction(a,["event"]);a=b("XReactComposerPostToGroupLoggingODSController").getURIBuilder().setString("event",a).getURI();new(b("AsyncRequest"))(a).send()};e.exports=new a()}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerEvents","ReactComposerPostToGroupStore","ReactComposerStore","emptyFunction","ifRequired","ReactComposerContextTypes"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){__p&&__p();if(this.props.disableSelectAttachment)return;if(this.state.selected){b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(this.context.composerID,null,null,b("ReactComposerStore").getSproutSurface(this.context.composerID));return}b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(this.context.composerID)}.bind(this));b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,this.props.attachmentID,!0,this.props.loggingName);window.setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0);this.props.onAfterSelected&&this.props.onAfterSelected()}.bind(this),c}a.getStores=function(){"use strict";return[b("ReactComposerAttachmentStore"),b("ReactComposerPostToGroupStore")]};a.calculateState=function(a,c,d){"use strict";var e=d.composerID;a=[c.attachmentID];c.alternativeAttachmentIDs&&(a=a.concat(c.alternativeAttachmentIDs));d=a.some(function(a){return b("ReactComposerPostToGroupStore").getIsTabSelected(e)?!1:b("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a)});return{selected:d}};a.prototype.render=function(){"use strict";var a=this.props.onSelected!==b("emptyFunction")?this.props.onSelected:this.$1;return b("React").createElement(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:a}))};a.defaultProps={onSelected:b("emptyFunction"),disableSelectAttachment:!1,enableDisplayTooltip:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerHeaderType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NONE:"NONE",DEFAULT:"DEFAULT",SHARESHEET:"SHARESHEET",SHARING_SPACES:"SHARING_SPACES"});e.exports=a}),null);
__d("ReactComposerDragDropPrompt.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_1y-n"},b("React").createElement("div",{className:"_1y-o"},b("React").createElement("span",{className:"_1y-p"},h._("Drag Link\/Photos\/Video Here")),b("React").createElement("span",{className:"_1y-q"},h._("Drop Link")),b("React").createElement("span",{className:"_1y-r"},h._("Drop Photo\/Video")),b("React").createElement("span",{className:"_1y-s"},h._("Drop Photos"))))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerDragDropPromptLazy.react",["fbt","ComposerXDragDropUtils","DragDropTarget","ExceptionDialog","React","ReactComposerDragDropPrompt.react","ReactDOM","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=void 0,this.$2=function(a){__p&&__p();var c=b("ComposerXDragDropUtils").filterImages(a);if(b("gkx")("803333")&&c.length==2){var d=["jpg","png"],e=c[0].name,f=c[1].name,h=e.split(".").pop().toLowerCase(),i=f.split(".").pop().toLowerCase();if(d.includes(h)&&d.includes(i)){h=e.substring(0,e.lastIndexOf("."));d=f.substring(0,f.lastIndexOf("."));if(d===h.concat("_depth")){this.props.onColorDepthPairDrop(c[0],c[1]);return}else if(h===d.concat("_depth")){this.props.onColorDepthPairDrop(c[1],c[0]);return}}}if(c.length>0){this.props.onMediaDrop(c);return}a.length&&this.props.onFilesDrop(a);a.length>1&&b("ExceptionDialog").show(g._("Too many files").toString(),g._("Only one document file can be uploaded at a time.").toString())}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.props.root);this.$1=new(b("DragDropTarget"))(a).setOnFilesDropCallback(this.$2).setOnURLDropCallback(this.props.onURLDrop).enable()};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.disable()};a.prototype.render=function(){"use strict";return b("React").createElement(b("ReactComposerDragDropPrompt.react"),null)};a.propTypes={root:c.object.isRequired,onFilesDrop:c.func,onMediaDrop:c.func,onURLDrop:c.func,onColorDepthPairDrop:c.func};a.defaultProps={onFilesDrop:b("emptyFunction"),onMediaDrop:b("emptyFunction"),onURLDrop:b("emptyFunction"),onColorDepthPairDrop:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerSproutsSelector.react",["cx","React","ReactComposerAttachmentSelectorContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("span",{"data-testid":this.props.dataTestID,className:"_sg1"},b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.props.attachmentID,label:this.props.label,icon:this.props.icon,loggingName:this.props.loggingName,alternativeAttachmentIDs:this.props.alternativeAttachmentIDs,onSelected:this.props.onSelected,onAfterSelected:this.props.onAfterSelected}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerDocAttachmentSelector.react",["ix","AsyncRequest","Bootloader","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutsSelector.react","URI","asset"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerDocAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isInMoreButton:a.bool,label:a.node.isRequired,createDocCampfireURI:a.string,createDocFallbackURI:a.string.isRequired,sprouts:a.bool},render:function(){return this.props.sprouts?b("React").createElement(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:g("651656"),label:this.props.label,onSelected:this._onSelected}):b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,label:this.props.label,icon:g("85214"),"data-testid":"create-doc-attachment-selector",onSelected:this._onSelected,loggingName:b("ReactComposerLoggingName").DOC_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})},_onSelected:function(){this.props.createDocCampfireURI?b("Bootloader").loadModules(["AsyncDialog"],function(a){var c=new(b("AsyncRequest"))(this.props.createDocCampfireURI).setMethod("POST").setStatusElement(this.context.composerID);a.send(c)}.bind(this),"ReactComposerDocAttachmentSelector.react"):new(b("URI"))(this.props.createDocFallbackURI).go()}});e.exports=c}),null);
__d("ReactComposerBootloaderPropTypes",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;e.exports=a.shape({statusAttachment:a.func.isRequired,mediaAttachment:a.func.isRequired,qandaAttachment:a.func,questionAttachment:a.func,visualPollAttachment:a.func,listAttachment:a.func,todoListAttachment:a.func,extraAttachment:a.func,sendGiftAttachment:a.func,findPlayersAttachment:a.func,salesPromoAttachment:a.func,eventCreationAttachment:a.func,publishJobAttachment:a.func,actionPostAttachment:a.func,ctaAttachment:a.func,localDevPlatformAttachment:a.func,supportNowAttachment:a.func})}),null);
__d("ReactComposerAttachmentBodyMixin",["invariant","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];c=c.concat(b("ReactComposerAttachmentStore"));return{contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(this,c)],statics:{beforeCalculateInitialState:function(a,c){var d=this.getAttachmentConfig?this.getAttachmentConfig(c):c.config&&c.config.attachmentsConfig&&c.config.attachmentsConfig[this.attachmentID];b("ReactComposerAttachmentActions").registerAttachment(a,{id:this.attachmentID,selected:c.selected,active:c.prefillConfig&&c.prefillConfig.shouldActivateSelectedAttachment,config:d})},calculateState:function(a,c){return Object.assign({selected:b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(a,c):{})}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||g(0,2981),this.constructor.attachmentID||g(0,2982)},render:function(){return!this.state.selected?null:this.renderX()}}}e.exports=a}),null);
__d("ReactComposerLoadableAttachmentBodyMixin",["cx","invariant","React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentInitState","ReactComposerAttachmentLoader","ReactComposerAttachmentPlaceholder.react","ReactComposerAttachmentStore","ReactComposerStore"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={mixins:[b("ReactComposerAttachmentBodyMixin")(b("ReactComposerAttachmentStore"))],statics:{calculateAttachmentState:function(a,c){c=b("ReactComposerAttachmentStore").getAttachment(a,this.attachmentID);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID);a=b("ReactComposerStore").isActive(a);return{composerIsActive:a,initState:c&&c.initState,attachmentModule:c&&c.module,bootstrapped:c&&c.bootstrapped,postButtonModule:c&&c.postButtonModule,isSelected:d,attachmentID:this.attachmentID}}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||h(0,2069),this.props.selected&&this._shouldInitialize()&&this._initialize()},componentDidUpdate:function(a,c){this.state.initState===b("ReactComposerAttachmentInitState").INITIALIZING&&this._shouldInitialize()&&this._initialize()},renderX:function(){if(!this.state.attachmentModule||!this.state.bootstrapped){var a=this.getPlaceholderModule&&this.getPlaceholderModule();a=a?a:b("ReactComposerAttachmentPlaceholder.react");return b("React").createElement(a,babelHelpers["extends"]({className:"_3rlw"},this.props))}a=this.state.attachmentModule;return b("React").createElement(a,babelHelpers["extends"]({},this.props,{postButtonModule:this.state.postButtonModule}))},_shouldInitialize:function(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:!0},_initialize:function(){b("ReactComposerAttachmentLoader").load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI())}};e.exports=a}),null);
__d("XReactComposerListAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/list/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerListLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerListAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerListLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").LIST},propTypes:{selected:a.bool,bootload:a.func,bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootload?this.props.bootload(a):this.props.bootloader&&this.props.bootloader.listAttachment?this.props.bootloader.listAttachment(a):b("Bootloader").loadModules(["ReactComposerListAttachmentContainer.react","ReactComposerListPostButtonContainer.react"],a,"ReactComposerListLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerListAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerOptimisticPostingStoryListAttachmentContainer.react",["cx","BootloadedComponent.react","JSResource","React","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=null;b("ifRequired")("ReactComposerListStore",function(c){var d=c.getListTitle(this.props.composerID),e=c.getListItems(this.props.composerID);e=e.map(function(a){return a.getCurrentContent().getPlainText().trim().length>0?a.getCurrentContent().getPlainText().trim():null}).filter(function(a){return!!a});var f=c.getListColors(this.props.composerID),g=c.getSelectedListColor(this.props.composerID);f=f[g];g=c.getSelectedListTitleEmoji(this.props.composerID);c=c.getSelectedListStyle(this.props.composerID);a=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerOptimisticPostingStoryListAttachment.react").__setRef("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"),bootloadPlaceholder:b("React").createElement("div",null),className:"_1rl8 _671b",emoji:g,listItems:e,listColor:f,listStyle:c,title:d.getCurrentContent().getPlainText()})}.bind(this));return a};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerLiveVideoAttachmentSelector.react",["fbt","ix","Bootloader","React","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","asset"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){"use strict";var a=function(){if(!this.props.config||!this.props.contextConfig)return;b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(a){a.startPreviewUI(this.props.contextConfig,this.props.config)}.bind(this),"ReactComposerLiveVideoAttachmentSelector.react")}.bind(this);return this.props.sprouts?b("React").createElement(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:h("642152"),label:this.props.label,onAfterSelected:a}):b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,label:this.props.label,icon:this.props.icon,"data-testid":"live-video-attachment-selector",loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,onAfterSelected:a})};function a(){"use strict";i.apply(this,arguments)}a.propTypes={icon:c.any,label:c.node};a.defaultProps={icon:h("101619"),label:g._("Live Video")};e.exports=a}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/live_video/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"Int",required:!0}})}),null);
__d("ReactComposerLiveVideoLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerLiveVideoAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerLiveVideoLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{selected:a.bool},statics:{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO},bootload:function(a){b("Bootloader").loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],a,"ReactComposerLiveVideoLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerLiveVideoAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("CollageLayoutConfig",[],(function(a,b,c,d,e,f){__p&&__p();var g=4;function a(a,b,c,d){c===void 0&&(c=g),this.$2=c,this.$3=b,this.$5=d,this.$6(a)}a.prototype.getItemStyleInfos=function(){"use strict";return this.$1};a.prototype.getIndexForPoint=function(a,b){"use strict";var c=this.$1.findIndex(function(c){return c.left<=a&&c.top<=b&&c.left+c.width>=a&&c.top+c.height>=b});return c===-1?null:c};a.prototype.getCalculatedHeight=function(){"use strict";return this.$4};a.prototype.getSpacing=function(){"use strict";return this.$2};a.prototype.getWidth=function(){"use strict";return this.$3};a.prototype.$6=function(a){"use strict";__p&&__p();var b=this.$7(a),c=this.$8(a),d=this.$2*(c-1),e=Math.ceil((this.$3-d)/c);this.$4=this.$5||(e+this.$2)*b-this.$2;d=this.$2*(b-1);var f=Math.ceil((this.$4-d)/b);this.$1=[];a.forEach(function(a){a={left:(e+this.$2)*a.x,top:(f+this.$2)*a.y,width:(e+this.$2)*a.width-this.$2,height:(f+this.$2)*a.height-this.$2};a.left+a.width>this.$3&&(a.width=this.$3-a.left);this.$1.push(a)}.bind(this))};a.prototype.$8=function(a){"use strict";var b=0;a.forEach(function(a){b=Math.max(b,a.x+a.width)});return b};a.prototype.$7=function(a){"use strict";var b=0;a.forEach(function(a){b=Math.max(b,a.y+a.height)});return b};e.exports=a}),null);
__d("ReactComposerCollageLayoutActor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:1,PAGE:2})}),null);
__d("ReactComposerMediaAspectTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"})}),null);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function(a,b,c,d,e,f){"use strict";e.exports={fromRect:function(a){return this._fromWidthAndHeight(a.w(),a.h())},fromDimensions:function(a){return this._fromWidthAndHeight(a[0],a[1])},_fromWidthAndHeight:function(a,c){if(a>c)return b("ReactComposerMediaAspectTypes").LANDSCAPE;else if(a<c)return b("ReactComposerMediaAspectTypes").PORTRAIT;else return b("ReactComposerMediaAspectTypes").SQUARE}}}),null);
__d("ReactComposerCollageLayoutModel",["regeneratorRuntime","ReactComposerCollageLayoutActor","ReactComposerMediaAspect"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("regeneratorRuntime").mark(i),h=b("regeneratorRuntime").mark(j);function i(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:d=a.next();e=c.next();if(!(d.done||e.done)){b.next=5;break}return b.abrupt("break",9);case 5:b.next=7;return[d.value,e.value];case 7:b.next=0;break;case 9:case"end":return b.stop()}},g,this)}function j(a){__p&&__p();var c,d,e,f,g;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",16);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",16);case 10:f=e.value;case 11:g=f;b.next=14;return g;case 14:b.next=1;break;case 16:case"end":return b.stop()}},h,this)}function a(a,c){this.$1=!!(a&b("ReactComposerCollageLayoutActor").USER),this.$2=!!(a&b("ReactComposerCollageLayoutActor").PAGE),this.$3=[],c&&this.addPhotoLayouts(c)}a.prototype.addPhotoLayout=function(a){this.$3.push(a);return this};a.prototype.addPhotoLayouts=function(a){a.forEach(function(a){return this.$3.push(a)}.bind(this));return this};a.prototype.getNumPhotoLayouts=function(){return this.$3.length};a.prototype.getPhotoLayouts=function(){return this.$3};a.prototype.getIsValidForPages=function(){return this.$2};a.prototype.getIsValidForUsers=function(){return this.$1};a.prototype.getIsValidFor=function(a){switch(a){case b("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case b("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return!1};a.prototype.hasMatchingCollagePhotoLayoutType=function(a){var c=b("ReactComposerMediaAspect").fromRect(this.$3[0]);a=b("ReactComposerMediaAspect").fromDimensions(a);return c===a};a.prototype.score=function(a){__p&&__p();var b=0;for(var a=i(j(this.getPhotoLayouts()),a.values()),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(!e)continue;var g=f.w();f=f.h();var h=e[0];e=e[1];var k=0;if(h===0||e===0)k=0;else if(g*e/h>=f){var l=g*e/h;k=(l-f)/l}else if(f*h/e>g){l=f*h/e;k=(l-g)/l}b-=k*100;e===h?b-=k*5:g>f?h>e?b+=k*25:b-=k*25:g<f?h<e?b+=k*25:b-=k*25:g===f&&(b-=k*5)}b+=200*this.getNumPhotoLayouts();return b};e.exports=a}),null);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function(a,b,c,d,e,f){"use strict";var g=[];Object.keys(b("ReactComposerJSONCollageLayoutData")).forEach(function(a){b("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){g.push(new(b("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return new(Function.prototype.bind.apply(b("Rect"),[null].concat(a)))()})))})});e.exports=g}),null);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function(a){return b("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})},getMaxPhotosSupported:function(){return Math.max.apply(Math,b("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))},getMaxPhotosSupportedFor:function(a){return Math.max.apply(Math,this._getCollageLayoutsFor(a).map(function(a){return a.getNumPhotoLayouts()}))},getCollageLayout:function(a,c){if(!c)return this.getBestUserCollageLayout(a);c=b("FBIDCheck").isUser_deprecated(c)?this.getBestUserCollageLayout(a):this.getBestPageCollageLayout(a);return c},getBestPageCollageLayout:function(a){__p&&__p();if(a.size==0)return new Map();var c=a.values().next().value,d=Math.min(this.getMaxPhotosSupportedFor(b("ReactComposerCollageLayoutActor").PAGE),a.size),e=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").PAGE).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw new Error("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(c)});if(!e.length)throw new Error("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(var a=a.keys(),h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var k=e[g++];k&&f.set(j,k)}return f},getBestUserCollageLayout:function(a){__p&&__p();var c=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").USER).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!c.length)throw new Error("no valid layout for these media");c=this._bestLayoutByScore(c,a);if(!c)throw new Error("no best layout? Should not happen!");var d=new Map(),e=0;c=c.getPhotoLayouts();for(var f=a.keys(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=c[e++];j&&d.set(i,j)}return d},_bestLayoutByScore:function(a,b){__p&&__p();a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}}}),null);
__d("ReactComposerCollageUtils",["CollageLayoutConfig","ReactComposerCollageLayoutSelection"],(function(a,b,c,d,e,f){__p&&__p();var g={extractDimensionDataIfValid:function(a){__p&&__p();var b=!0,c=new Map();a.forEach(function(a){if(!a.width||!a.height){b=!1;return}var d=a.width,e=a.height;a.isSpherical&&(d=e);c.set(a.id,[d,e])});return b?c:null},getCollageLayout:function(a){__p&&__p();if(!a||a.size<2)return[];a=g.extractDimensionDataIfValid(a);if(!a)return[];var c=b("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(a);if(!c)return[];var d=[];for(var a=a.keys(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;h=c.get(h);if(!h)return[];d.push({x:h.l,y:h.t,width:h.w(),height:h.h()})}return d},getCollageLayoutConfig:function(a,c){a=a.filter(function(a){return a.width&&a.height});a=g.getCollageLayout(a);return new(b("CollageLayoutConfig"))(a,c)},getSingleItemStyleInfo:function(a,b){var c=[],d=b,e=a.width/a.height;a.isSpherical&&(e=1);e>1?d=b/e:b=e*d;c.push({left:0,top:0,width:b,height:d});return c}};e.exports=g}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","ComposerTargetData","CurrentUser","FileInput.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(a){b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA),b("Bootloader").loadModules(["ReactComposerLoggingActions"],function(a){a.mediaUploadInputClicked(this.context.composerID,this.props.loggingName)}.bind(this),"ReactComposerMediaFilePickerController.react"),this.props.onClick&&this.props.onClick(a)}.bind(this),this.$2=function(a){__p&&__p();a.persist&&a.persist();var c=this.refs.fileInput.getFileInput();if(!this.$4(c.input.files)){b("Bootloader").loadModules(["Dialog"],function(a){var d=g._("Invalid file type"),e;c.input.files.length&&c.input.files[0].type?e=g._("{file type} is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:",[g._param("file type",c.input.files[0].type)]):e=g._("The file you selected is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:");var f;b("CurrentUser").isWorkUser()?f=new(b("URI"))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString():f="https://www.facebook.com/help/218673814818907";var h=g._("What video file formats can I upload?");h=typeof h==="string"?h.replace(/\"/g,"&#39;"):"";h='<a href="'+f+'" title="'+h+'" target="_blank">'+f+"</a>";new a().setTitle(d).setButtons(a.OK).setBody(e.toString()+" "+h).setSemiModal(!0).show()},"ReactComposerMediaFilePickerController.react");this.props.onFilesSelected&&this.props.onFilesSelected(!1);return}b("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(d,e,f){var g=e.handleSpecialMediaUpload(a,c,this.props.mediaConfig,this.context);this.props.onFilesSelected&&this.props.onFilesSelected(g);if(!g){d=new d(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").MEDIA)&&!b("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,b("ReactComposerAttachmentType").TASK)&&b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,this.props.loggingName);e.uploadPhotosOrVideoFromTarget(this.context.composerID,a.target,d,this.props.targetData.targetSupportsMultiplePhotos,this.props.targetData.targetSupportsMultiMedia)}f.mediaUploadInputDone(this.context.composerID,this.props.loggingName);e.clearInput(c,!g)}.bind(this),"ReactComposerMediaFilePickerController.react")}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("FileInput.react"),{accept:this.$1(),containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this.$2,onClick:this.$3,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID},this.props.children)};a.prototype.$1=function(){if(this.props.mediaAcceptParam)if(this.props.mediaType=="VIDEO")return this.props.mediaAcceptParam.videos;else if(this.props.mediaType=="PHOTO")return this.props.mediaAcceptParam.photos;else return this.props.mediaAcceptParam.both;return null};a.prototype.$4=function(a){if(!(this.props.mediaAcceptParam&&this.props.mediaAcceptParam.both))return!0;var b=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");b="^("+b+")$";b=new RegExp(b,"i");for(var c=0;c<a.length;++c)if(a[c].type&&!b.test(a[c].type))return!1;return!0};a.defaultProps={disableFaceRecognition:!1,display:"inline"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerEmojiButton.react",["cx","EmojiInputButton.react","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=b("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),d=b("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);if(c===null||c===void 0)return;b("addEmojiToEditorState")(a,c,d==null?this.$3:this.$4)}.bind(this),this.$3=function(a){var c=0;if(a){var d=a.getCurrentContent();c=d?b("UnicodeUtils").strlen(d.getPlainText()):0;b("ReactComposerStatusStore").getEditorState(this.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),b("ReactComposerStatusActions").setTextLength(this.context.composerID,c))}this.props.onChange&&this.props.onChange(a)}.bind(this),this.$4=function(a){var c=this.context.composerID,d=b("ReactComposerStatusStore").getActiveEditorState(c),e=b("ReactComposerStatusStore").getActiveLanguageDialect(c);d!==a&&b("ifRequired")("ReactComposerMultilingualStatusActions",function(b){b.setEditorState(c,e,a)})}.bind(this),this.$2=function(){b("ReactComposerActions").expandSprouts(this.context.composerID)}.bind(this),c}a.prototype.render=function(){var a=(this.props.isNextToFontPicker?"":"_3nc-")+(this.props.simplifyComposerMoveEmojiButton===!0&&!this.props.isNextToFontPicker?" _77h7":""),c=(this.props.canProduceSATPWithFont?"":"_3nc_")+(this.props.canProduceSATPWithFont?" _7bcl":"")+(this.props.exceedCharacterCount?" _6-3i":""),d="_5zq9";return b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:a,iconActiveClassName:d,iconClassName:c,onSelect:this.$1,onClick:this.$2,position:"below"})};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerAsset3DActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({CREATE_ASSET3D:null,REMOVE_ASSET3D:null,SELECT_BACKGROUND:null,UPDATE_LOADING_PROGRESS:null},"ReactComposerAsset3DActionType")}),null);
__d("ReactComposerAsset3DActions",["ReactComposerAsset3DActionType","ReactComposerDispatcher","ReactComposerAsset3DStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerAsset3DStore");a.prototype.createAsset3D=function(a,c,d){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").CREATE_ASSET3D,asset3dFile:c,actorID:d})};a.prototype.removeAsset3D=function(a){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").REMOVE_ASSET3D})};a.prototype.selectBackground=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").SELECT_BACKGROUND,background:c})};a.prototype.updateLoadingProgress=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").UPDATE_LOADING_PROGRESS,progress:c})};function a(){"use strict"}e.exports=new a()}),null);
__d("Asset3DBackground",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT:"default",CREATOR:"creator",MEDIUM:"medium",SPACES:"spaces",ONE:"one",TWO:"two",THREE:"three",FOUR:"four",FIVE:"five",SIX:"six",SEVEN:"seven",EIGHT:"eight",NINE:"nine",TEN:"ten",ELEVEN:"eleven",TWELVE:"twelve",THIRTEEN:"thirteen",FOURTEEN:"fourteen",FIFTEEN:"fifteen",SIXTEEN:"sixteen",SEVENTEEN:"seventeen",EIGHTEEN:"eighteen",TWENTY:"twenty",TWENTYONE:"twentyone",TWENTYTWO:"twentytwo",TWENTYTHREE:"twentythree",TWENTYFOUR:"twentyfour",TWENTYFIVE:"twentyfive",TWENTYSIX:"twentysix",TWENTYSEVEN:"twentyseven",TWENTYEIGHT:"twentyeight",TWENTYNINE:"twentynine",THIRTY:"thirty",THIRTYONE:"thirtyone",THIRTYTWO:"thirtytwo",THIRTYTHREE:"thirtythree",THIRTYFOUR:"thirtyfour",THIRTYFIVE:"thirtyfive",THIRTYSIX:"thirtysix"})}),null);
__d("Asset3DInput",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GLB:"glb",COLOR_DEPTH_PAIR:"color_depth_pair"})}),null);
__d("XAsset3DRenderSettingsCreateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/render_settings/create/",{asset3d_id:{type:"FBID",required:!0},background:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XCreateAsset3DController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/create/",{})}),null);
__d("XCreatePhoto3DController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/create_photo3d/",{})}),null);
__d("ReactComposerAsset3DStore",["invariant","regeneratorRuntime","Promise","ActorURI","Asset3DBackground","Asset3DInput","Asset3DUtils","AsyncRequest","Bootloader","ExceptionDialog","ReactComposerActionTypes","ReactComposerAsset3DActions","ReactComposerAsset3DActionType","ReactComposerLoggingName","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","XAsset3DRenderSettingsCreateController","XCreateAsset3DController","XCreatePhoto3DController","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("immutable").Record;var i=c({asset3dID:null,glbURI:null,aspectRatio:null,compressor:null,compressionLevel:null,version:null,asset3D:null});d=babelHelpers.inherits(a,b("ReactComposerStoreBase"));h=d&&d.prototype;function a(){__p&&__p();var a;h.constructor.call(this,function(){return{isFetching:!1,isCreating:!1,asset3dData:new i(),background:null,progress:0}},function(c){__p&&__p();switch(c.type){case b("ReactComposerAsset3DActionType").CREATE_ASSET3D:a&&a.$ReactComposerAsset3DStore1(c);break;case b("ReactComposerAsset3DActionType").REMOVE_ASSET3D:a&&a.$ReactComposerAsset3DStore2(c);break;case b("ReactComposerAsset3DActionType").SELECT_BACKGROUND:a&&a.$ReactComposerAsset3DStore3(c);break;case b("ReactComposerAsset3DActionType").UPDATE_LOADING_PROGRESS:a&&a.$ReactComposerAsset3DStore4(c);break;case b("ReactComposerActionTypes").POST_STARTED:a&&a.$ReactComposerAsset3DStore5(c);break}});a=this}a.prototype.getAsset3DData=function(a){return this.getComposerData(a).asset3dData};a.prototype.getBackground=function(a){return this.getComposerData(a).background};a.prototype.getProgress=function(a){return this.getComposerData(a).progress};a.prototype.isCreating=function(a){return this.getComposerData(a).isCreating};a.prototype.$ReactComposerAsset3DStore3=function(a){a=this.validateAction(a,["composerID","background"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.background=a;this.emitChange(b)};a.prototype.$ReactComposerAsset3DStore5=function(a){var c=this.validateAction(a,["composerID"]);a=this.validateAction(a,["actorID"]);if(this.getAsset3DData(c).asset3dID){var d=this.getComposerData(c);d=d.background||b("Asset3DBackground").DEFAULT;c=b("ActorURI").create(b("XAsset3DRenderSettingsCreateController").getURIBuilder().setFBID("asset3d_id",this.getAsset3DData(c).asset3dID.toString()).setEnum("background",d).getURI(),a);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setErrorHandler(function(a){}).send()}};a.prototype.$ReactComposerAsset3DStore4=function(a){a=this.validateAction(a,["composerID","progress"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.progress=a;this.emitChange(b)};a.prototype.$ReactComposerAsset3DStore1=function(a){__p&&__p();var c=this.validateAction(a,["composerID","asset3dFile","actorID"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(d);f.isCreating=!0;f.asset3dData=new i();f.background=null;f.progress=0;var h=null,j=new FormData();e.type===b("Asset3DInput").GLB?(h=b("ActorURI").create(b("XCreateAsset3DController").getURIBuilder().getURI(),c),j.append("asset3d_file",e.file)):e.type===b("Asset3DInput").COLOR_DEPTH_PAIR&&(h=b("ActorURI").create(b("XCreatePhoto3DController").getURIBuilder().getURI(),c),j.append("color_image",e.colorImage),j.append("depth_image",e.depthImage));h!=null||g(0,13561);f.pendingRequest=new(b("AsyncRequest"))().setURI(h).setMethod("POST").setRawData(j).setUploadProgressHandler(function(a){var c=a.loaded;a=a.total;b("ReactComposerAsset3DActions").updateLoadingProgress(d,c/a*.8)}).setHandler(function(a){this.$ReactComposerAsset3DStore6(a,d,e)}.bind(this)).setErrorHandler(function(b){return this.$ReactComposerAsset3DStore7(b,a)}.bind(this)).setFinallyHandler(function(){f.isCreating=!1,f.pendingRequest=null,this.emitChange(d)}.bind(this));f.pendingRequest.send();this.emitChange(d)};a.prototype.$ReactComposerAsset3DStore2=function(a){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isCreating=!1;c.asset3dData=new i();c.background=null;c.pendingRequest&&c.pendingRequest.abandon();b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{});this.emitChange(a)};a.prototype.$ReactComposerAsset3DStore6=function(a,c,d){__p&&__p();var e,f,g,h;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:if(!(d.type===b("Asset3DInput").GLB)){j.next=4;break}e=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ASSET_3D);if(e.file&&b("Asset3DUtils").fileEquals(d.file,e.file)){j.next=4;break}return j.abrupt("return");case 4:f=this.getComposerData(c);j.next=7;return b("regeneratorRuntime").awrap(this.$ReactComposerAsset3DStore8());case 7:g=j.sent;j.next=10;return b("regeneratorRuntime").awrap(g.load({uri:a.payload.glbURI,assetID:a.payload.id}));case 10:h=j.sent,f.progress=1,f.asset3dData=i({asset3dID:a.payload.id,glbURI:a.payload.glbURI,aspectRatio:a.payload.aspectRatio,compressor:a.payload.compressor,compressionLevel:a.payload.compressionLevel,version:a.payload.version,asset3D:h}),this.emitChange(c),d.type===b("Asset3DInput").GLB?b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{file:d.file,asset3dID:a.payload.id,type:d.type}):d.type===b("Asset3DInput").COLOR_DEPTH_PAIR&&b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{colorImage:d.colorImage,depthImage:d.depthImage,asset3dID:a.payload.id,type:d.type});case 15:case"end":return j.stop()}},null,this)};a.prototype.$ReactComposerAsset3DStore8=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["Asset3DLoaderFactory"],function(b){a(b.make("Asset3DLoader"))},"ReactComposerAsset3DStore")}));case 1:case"end":return a.stop()}},null,this)};a.prototype.$ReactComposerAsset3DStore7=function(a,c){b("ExceptionDialog").showAsyncError(a),this.$ReactComposerAsset3DStore2(c)};e.exports=new a()}),null);
__d("ReactComposerAttachmentPreview.react",["DOMContainer.react","React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){"use strict";return!this.props.markup?b("React").createElement("noscript",null):b("React").createElement(b("DOMContainer.react"),null,this.props.markup)};function a(){"use strict";g.apply(this,arguments)}a.propTypes={markup:c.instanceOf(HTMLElement).isRequired};e.exports=a}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerAttachmentActionType","ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerScrapedAttachmentStore");a.prototype.enabled=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setScrapedAttachment=function(a,c,d,e,f,g,h){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,sourceLoggingName:e,postConfirmationDialog:f,hasDisputedWarning:g,breakingNewsConfig:h};b("ReactComposerDispatcher").dispatch(a)};a.prototype.clearScrapedAttachment=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED,sourceLoggingName:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.clearSpinner=function(a){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CLEAR_SPINNER};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setScrapedAttachmentWithoutLogging=function(a,c,d,e,f){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,suppressWaterfallLogging:!0,postConfirmationDialog:e,hasDisputedWarning:f};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setPermissiveMatch=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.scrapeAttachment=function(a,c,d,e,f,g){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:c,value:d,entryPoint:e,actorID:f,sourceLoggingName:g};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setShareAttachment=function(a,c,d,e,f,g){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:c,actorID:d,shareType:e,shareParams:f,isFbPhotoShare:g};b("ReactComposerDispatcher").dispatch(a)};a.prototype.uploadImagesForCarousel=function(a){"use strict";a={composerID:a.composerID,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:a.targetID,scrapeUrl:a.scrapeUrl,carouselParams:a.carouselParams,entryPoint:a.entryPoint,actorID:a.actorID};b("ReactComposerDispatcher").dispatch(a)};a.prototype.linkTitleEdited=function(a,c,d){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};a.prototype.linkDescriptionEdited=function(a,c,d){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setNoImagePreviewEdit=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED,index:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setBreakingConfig=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET,breakingNewsConfig:c};b("ReactComposerDispatcher").dispatch(a)};a.prototype.setIsContentMultiShareAttachment=function(a,c){"use strict";a={composerID:a,type:b("ReactComposerAttachmentActionType").SET_CONTENT_MULTI_SHARE,isContentMultiShareAttachment:c};b("ReactComposerDispatcher").dispatch(a)};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","CSS","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","ifRequired","requireCond","cr:798552"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("ReactComposerWorkFileStore").module;c=b("React").PropTypes;d=[b("ReactComposerEventAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerLocationAttachmentStore"),b("ReactComposerTaggerStore")];a&&d.push(a);f=b("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:void 0,_prefillSubscription:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,d)],propTypes:{markup:c.instanceOf(HTMLElement),spinner:c.element,isAttachmentBreaking:c.bool},statics:{calculateState:function(a,c){c=b("ReactComposerScrapedAttachmentStore").getMarkup(a);var d=b("ReactComposerScrapedAttachmentStore").isReadOnly(a),e=b("ReactComposerMinutiaeAttachmentStore").getMarkup(a),f=b("ReactComposerLocationAttachmentStore").getMarkup(a),g=b("ReactComposerEventAttachmentStore").getMarkup(a),h=b("ReactComposerScrapedAttachmentStore").isScraping(a)||b("ReactComposerMinutiaeAttachmentStore").isFetching(a)||b("ReactComposerLocationAttachmentStore").isFetching(a)||b("ReactComposerEventAttachmentStore").isFetching(a),i=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUN_FACT),j=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER),k=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").ASSET_3D);(i||j||k)&&(e=null,f=null,g=null,h=b("ReactComposerScrapedAttachmentStore").isScraping(a));k&&(c=null,h=!1);i=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:i,markup:c||e||g||f,showSpinner:h,showRemoveButton:c&&d,title:null}}},componentDidMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this._cleanupButtonEvent(),this._setButtonEvent()},componentDidUpdate:function(){this._setButtonEvent()},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._cleanupButtonEvent()},render:function(){this._updateBreakingFromPreview();var a=this.state.markup&&!this.state.showSpinner?b("React").createElement("div",{"data-testid":"attachment-preview-body",className:"_2ane"},b("React").createElement(b("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return b("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),a)},_handlePrefill:function(){var a=b("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");a&&(a.scrapedAttachment?(a.scrapedAttachment.markup?b("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,a.scrapedAttachment.markup,a.scrapedAttachment.attachmentConfig):a.minutiaeAttachment.markup&&b("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,a.minutiaeAttachment.markup),b("cr:798552")&&a.scrapedAttachment.isMultiAttachments&&(a.scrapedAttachment.multiAttachmentsData.forEach(function(a){var c=a.markup;a=a.attachmentConfig;b("cr:798552").setScrapedAttachmentWithoutLogging(this.context.composerID,a,c)}.bind(this)),b("ReactComposerScrapedAttachmentActions").setIsContentMultiShareAttachment(this.context.composerID,!0))):a.scrapedURL&&b("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,a.scrapedURL,this.context.composerType,this.context.actorID,b("ReactComposerLoggingName").INLINE_COMPOSER))},_renderRemoveButton:function(){return!this.state.markup||!this.state.showRemoveButton?null:b("React").createElement("div",{className:"_2anf"},b("React").createElement(b("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function(){if(!this.state.showSpinner)return null;var a=this.state.title?b("React").createElement("span",{className:"_239x"},this.state.title):null;return b("React").createElement("div",{className:"_239z"},this.props.spinner,b("React").createElement("div",{className:"_3-8y"},a,i._("Fetching preview")))},_setButtonEvent:function(){if(this.refs.attachment){var a=b("DOM").scry(b("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];a&&(this._buttonEvent=b("Event").listen(a,"click",function(a){a.preventDefault(),this._clearAttachment(),this._buttonEvent&&this._buttonEvent.remove(),this._buttonEvent=null}.bind(this)));b("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function(){b("ReactComposerScrapedAttachmentActions").clearScrapedAttachment(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON),b("cr:798552")&&b("cr:798552").clearScrapedAttachments(this.context.composerID),b("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null),b("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null),b("ifRequired")("ReactComposerEventAttachmentActions",function(a){return a.setMarkup(this.context.composerID,null,null)}.bind(this)),b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON,b("ReactComposerTaggerType").GIF,{gifData:null}),b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON,b("ReactComposerTaggerType").VIDEO_SUGGESTIONS,{videoID:null}),b("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,!0),b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").BREAKING_NEWS,b("ReactComposerTaggerType").BREAKING_NEWS,{})},_cleanupButtonEvent:function(){this._buttonEvent&&this._buttonEvent.remove()},_getContentAndFooterForBreaking:function(a){var c=null,d=null,e=null;b("ifRequired")("LitestandShareAttachment",function(b){c=b.getContentNode(a),d=b.getDetailsFooterBrandName(a),e=b.getTitleNode(a)});return{content:c,footer:d,title:e}},_updateBreakingFromPreview:function(){__p&&__p();if(!this.state.markup||!this.context.gks[b("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var a=this.state.markup;if(a==null)return;a=this._getContentAndFooterForBreaking(a);var c=a.content,d=a.footer;a=a.title;var e=this.state.isAttachmentBreaking;e=e?"addClass":"removeClass";c&&b("CSS")[e](c,"_649o");d&&b("CSS")[e](d,"_2dbs");a&&b("CSS")[e](a,"_2dbt")},getHTMLRootNode:function(){if(!this.state.markup)return null;var a=null;typeof this.state.markup.getRootNode==="function"&&(a=this.state.markup.getRootNode());return a}});e.exports=f}),null);
__d("ReactComposerTaggerSummaryPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3o1x"})};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerFormattedTextCategoryUnit.react",["ix","cx","Grid.react","Image.react","Link.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Grid.react").GridItem;a=b("React").PropTypes;i=babelHelpers.inherits(k,b("React").PureComponent);i&&i.prototype;k.prototype.$1=function(a,b){this.props.onSelectInCategorizedFormatTray&&this.props.onSelectInCategorizedFormatTray(a,b)};k.prototype.$2=function(){return b("React").createElement(b("XUIText.react"),{className:"_3j7x",weight:"bold"},this.props.categoryName)};k.prototype.$3=function(){var a=[];for(var c=0;c<this.props.textFormats.length;c++){var d=null;this.props.noSproutDesign&&(d={opacity:1,position:"relative"});var e=!!this.props.textFormats[c].keyframesAnimation;d=b("React").createElement(j,{key:c+1,style:d,className:this.props.noSproutDesign?"_4ydj":""},b("React").createElement("div",{className:c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?"_4ydk":""},b("React").createElement(b("Link.react"),{href:"#",onClick:c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?null:this.$1.bind(this,c,this.props.categoryName)},b("React").createElement("div",{className:"_1u45"+(c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?" _1u48":""),style:this.props.textFormats[c].swatchStyle}),e&&b("React").createElement(b("Image.react"),{src:g("502466"),className:"_1m8d"}))));a.push(d)}return a};k.prototype.render=function(){return b("React").createElement("div",null,this.$2(),b("React").createElement(b("Grid.react"),{cols:k.CATEGORY_COLUMN_WIDTH,className:"_1u4b"+(this.props.noSproutDesign?" _2j7c":"")},this.$3()))};function k(){i.apply(this,arguments)}k.CATEGORY_COLUMN_WIDTH=5;k.DEFAULT_SWATCH_SIZE=72;k.propTypes={categoryName:a.string.isRequired,noSproutDesign:a.bool,onSelectInCategorizedFormatTray:a.func.isRequired,selectedCategory:a.string,selectedIndex:a.number,suppressTransition:a.bool,textFormats:a.arrayOf(a.object).isRequired};e.exports=k}),null);
__d("ReactComposerFormattedTextTrayComponent.react",["cx","fbt","LayerAutoFocus","React","ReactComposerFormattedTextCategoryUnit.react","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PropTypes;i=babelHelpers.inherits(j,b("React").PureComponent);i&&i.prototype;j.prototype.$1=function(){var a=this.$2();return b("React").createElement(b("XUIContextualDialog.react"),{alignment:this.props.alignment||"right",behaviors:{LayerAutoFocus:b("LayerAutoFocus")},contextRef:this.props.contextRef,hasActionableContext:!0,position:"below",shown:this.props.trayShown,width:j.TRAY_WIDTH},b("React").createElement("div",{className:"_rys"},h._("Choose a background")),b("React").createElement("div",{className:"_ryt"}),b("React").createElement("div",{style:{height:j.TRAY_HEIGHT,overflow:"auto"}},a))};j.prototype.$2=function(){var a=[];for(var c=0;c<this.props.categorizedTextFormatPresets.length;c++){var d=this.props.categorizedTextFormatPresets[c];d=b("React").createElement(b("ReactComposerFormattedTextCategoryUnit.react"),{categoryName:d.categoryName,key:c,noSproutDesign:this.props.noSproutDesign,onSelectInCategorizedFormatTray:this.props.onSelectInCategorizedFormatTray,selectedCategory:this.props.selectedCategory,selectedIndex:this.props.selectedIndex,suppressTransition:this.props.suppressTransition,textFormats:d.textFormats});a.push(d)}return a};j.prototype.render=function(){return b("React").createElement("div",null,this.$1())};function j(){i.apply(this,arguments)}j.NO_BG_COLOR=-1;j.DEFAULT_SWATCH_SIZE=28;j.TRAY_WIDTH=380;j.TRAY_HEIGHT=400;j.propTypes={categorizedTextFormatPresets:a.arrayOf(a.object).isRequired,contextRef:a.func.isRequired,noSproutDesign:a.bool,onSelectInCategorizedFormatTray:a.func.isRequired,selectedCategory:a.string,selectedIndex:a.number,trayShown:a.bool};e.exports=j}),null);
__d("SATPCancelButtonPosition",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LEFT:"LEFT",NONE:"NONE",BY_SATP:"BY_SATP"})}),null);
__d("SATPFontPickerEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICON:"ICON",PLAINTEXT_BUTTON:"PLAINTEXT_BUTTON",SPROUT:"SPROUT"})}),null);
__d("ReactComposerFormattedTextPickerComponent.react",["ix","cx","fbt","Grid.react","ReactComposerEmojiButton.react","ReactComposerFormattedTextTrayComponent.react","Image.react","Link.react","Locale","React","SATPCancelButtonPosition","SATPFontPickerEntryPoint","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Grid.react").GridItem;a=b("React").PropTypes;c=babelHelpers.inherits(l,b("React").Component);j=c&&c.prototype;function l(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$12=function(){this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&this.props.collapsed?(this.props.onToggle(),this.props.onClickFontButton()):this.props.onClickFontButton()}.bind(this),c}l.prototype.$2=function(a){this.props.onSelect&&this.props.onSelect(a)};l.prototype.$3=function(a,c){var d=this.props.selectedIndex===l.NO_BG_COLOR?!1:a>this.props.selectedIndex,e=l.DEFAULT_SWATCH_SIZE,f=e;e=this.props.collapsed?-e:(a+1)*f;(a!==l.NO_BG_COLOR||this.props.cancelButtonPosition===b("SATPCancelButtonPosition").BY_SATP)&&this.props.canProduceSATPWithFont&&(this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&this.props.selectedIndex===l.NO_BG_COLOR&&(e=0),e+=this.$4(),d&&(e+=l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH),a===l.NO_BG_COLOR&&this.props.cancelButtonPosition===b("SATPCancelButtonPosition").BY_SATP&&(e-=6));c===!0&&(e+=l.WIDTH_OF_STYLE_BUTTON+l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH);b("Locale").isRTL()&&(e=-e);return e};l.prototype.$5=function(a){return this.props.canProduceSATPWithFont?a===-1?4:5:0};l.prototype.$6=function(){__p&&__p();var a=[],c=null,d=this.props.collapsed?.01:1,e=this.props.disableNoBgColor?0:l.NO_BG_COLOR,f=this.props.categorizedTrayEnabled?l.DEFAULT_SWATCH_SIZE:0,h=this.props.textFormats.length,j=this.props.inlineEmojiPicker?this.props.composerBodyWidth-l.DEFAULT_SWATCH_SIZE:this.props.composerBodyWidth;for(var e=e;e<this.props.textFormats.length;e++){var m=e===this.props.selectedIndex&&!this.props.selectedCategory;this.props.canProduceSATPWithFont&&(m=e===this.props.selectedIndex&&e!==l.NO_BG_COLOR);if(this.props.noSproutDesign){var n=this.props.disableNoBgColor?this.$3(e-1):this.$3(e),o=this.$5(e);c={opacity:d,transform:"translate("+n+"px, "+o+"px)"};if(f+2*l.DEFAULT_SWATCH_SIZE+n>=j){h=e;break}}o=e!==l.NO_BG_COLOR&&!!this.props.textFormats[e].keyframesAnimation;n=b("React").createElement(k,{key:e+2,style:c,className:this.props.noSproutDesign?"_4ydj":""},b("React").createElement("div",{className:m?"_4ydk":""},b("React").createElement(b("Link.react"),{tabIndex:this.props.collapsed?-1:null,href:"#","aria-label":e===l.NO_BG_COLOR?i._("No background"):this.props.textFormats[e].accessibilityLabel,onClick:e===this.props.selectedIndex?null:this.$2.bind(this,e)},b("React").createElement("div",{className:(this.props.canProduceSATPWithFont&&e===l.NO_BG_COLOR?"":"_2j78")+(this.props.canProduceSATPWithFont&&e===l.NO_BG_COLOR&&this.props.cancelButtonPosition!==b("SATPCancelButtonPosition").NONE?" _74-_":"")+(this.props.canProduceSATPWithFont?" _74_0":"")+(m?" _4ydl":"")+(this.props.canProduceSATPWithFont&&m?" _7bep":"")+(m&&this.props.blackFontPicker?" _7ben":"")+(e===l.NO_BG_COLOR?" _23ju":"")+(this.props.canProduceSATPWithFont&&e===l.NO_BG_COLOR?" _74_1":"")+(this.props.collapsed?" _4vb-":""),onClick:this.props.canProduceSATPWithFont&&e===l.NO_BG_COLOR?this.props.onToggle:null,style:e===l.NO_BG_COLOR?null:this.props.textFormats[e].swatchStyle},e===l.NO_BG_COLOR&&this.props.canProduceSATPWithFont&&this.props.cancelButtonPosition!==b("SATPCancelButtonPosition").NONE?this.$7():null,this.props.canProduceSATPWithFont&&m?this.$8():null),o?b("React").createElement(b("Image.react"),{src:g("497826"),className:"_3mwi"}):null)));a.push(n)}m=this.props.canProduceSATPWithFont;if(this.props.categorizedTrayEnabled&&!m){o=this.$3(h);c={opacity:d,transform:"translateX("+o+"px)"};n=this.$9(c);a.push(n)}if(m){f=this.$3(h);c={opacity:d,transform:"translate("+f+"px, 1px)"};j=this.$10(c);a.push(j)}if(this.props.canProduceSATPWithFont&&this.props.putEmojiPickerBySATPSelector){e=this.$3(h,!0);c={opacity:d,transform:"translate("+e+"px, 1px)"};o=this.$11(c);a.push(o)}return a};l.prototype.$8=function(){return b("React").createElement("div",{className:"_7beo"},this.props.blackFontPicker?b("React").createElement(b("Image.react"),{src:g("515568")}):b("React").createElement(b("Image.react"),{src:g("515584")}))};l.prototype.$7=function(){return this.props.blackFontPicker?b("React").createElement(b("Image.react"),{src:g("478238")}):b("React").createElement(b("Image.react"),{src:g("480719")})};l.prototype.$9=function(a){return b("React").createElement(k,{key:this.props.textFormats.length+2,className:this.props.noSproutDesign?"_4ydj":"",style:a},b("React").createElement("div",{className:"_2j78"+(this.props.collapsed?" _4vb-":""),ref:"trayButton"},b("React").createElement(b("Image.react"),{className:"_3ov1",src:g("479024"),onClick:this.props.onTrayToggle})))};l.prototype.$10=function(a){var c=this.props.collapsed?i._("TEXT EFFECTS"):this.props.currentFontPresets&&this.props.currentFontPresets.collectionName.text;this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&(a.opacity=1);return b("React").createElement(k,{key:this.props.textFormats.length+2,className:this.props.noSproutDesign?"_4ydj":"",style:a},b("React").createElement(b("ShimButton.react"),{onClick:this.$12,className:"_74_2"+(this.props.entryPoint!==b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&this.props.collapsed?" _4vb-":"")+(this.props.blackFontPicker?" _74_3":"")},c))};l.prototype.$11=function(a){this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&(a.opacity=1);var c=b("React").createElement(b("ReactComposerEmojiButton.react"),{isNextToFontPicker:!0,exceedCharacterCount:this.props.exceedCharacterCount,onChange:this.props.onMentionsInputChange,canProduceSATPWithFont:this.props.canProduceSATPWithFont,simplifyComposerMoveEmojiButton:this.props.inlineEmojiPicker});return b("React").createElement(k,{key:this.props.textFormats.length+3,className:this.props.noSproutDesign?"_4ydj":"",style:a},b("React").createElement("div",{className:"_7iwx"+(this.props.entryPoint!==b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON&&this.props.collapsed?" _4vb-":"")+(this.props.blackFontPicker?" _74_3":"")},c))};l.prototype.$13=function(){return b("React").createElement(b("ReactComposerFormattedTextTrayComponent.react"),{categorizedTextFormatPresets:this.props.categorizedTextFormatPresets,contextRef:function(){return this.refs.trayButton}.bind(this),noSproutDesign:this.props.noSproutDesign,onSelectInCategorizedFormatTray:this.props.onSelectInCategorizedFormatTray,selectedCategory:this.props.selectedCategory,selectedIndex:this.props.selectedIndex,trayShown:this.props.trayShown})};l.prototype.$14=function(){return this.props.canProduceSATPWithFont&&!this.props.collapsed||this.props.canProduceSATPWithFont&&this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON||this.props.canProduceSATPWithFont&&this.props.entryPoint===b("SATPFontPickerEntryPoint").SPROUT?b("React").createElement("div",{className:"_74_4"}):b("React").createElement(k,{key:0,className:(this.props.noSproutDesign?"_469m":"")+" _w4h"},b("React").createElement(b("Link.react"),{href:"#",onClick:this.props.onToggle,"aria-label":i._("Expansion button")},b("React").createElement("div",{className:"_4vc1"+(this.props.collapsed?" _2j7a":"")},b("React").createElement("div",{className:this.props.collapsed?"":"_2j7b"}))))};l.prototype.$4=function(){__p&&__p();var a=this.props.composerBodyWidth?this.props.composerBodyWidth:l.DEFAULT_COMPOSER_WIDTH-2*l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH;if(this.props.selectedIndex===l.NO_BG_COLOR&&this.props.entryPoint===b("SATPFontPickerEntryPoint").PLAINTEXT_BUTTON)return(a-l.WIDTH_OF_STYLE_BUTTON-l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH-l.EMOJI_PICKER_SIZE)/2;if(this.$1!==null&&this.$1!==void 0)return this.$1;if(!this.props.canProduceSATPWithFont)this.$1=0;else{var c=this.props.textFormats.length,d=this.props.putEmojiPickerBySATPSelector,e=this.props.closeButtonPosition===b("SATPCancelButtonPosition").BY_SATP,f=l.DEFAULT_SWATCH_SIZE;c=c*f+l.MAGNIFIED_SWATCH_SIZE+(e?1:0)*f+l.WIDTH_OF_STYLE_BUTTON+l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH*2+(d?1:0)*(f+l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH);this.$1=(a-c)/2}return this.$1};l.prototype.render=function(){var a=this.props.noSproutDesign?this.$14():null,c=this.$6(),d=this.$13(),e=c.length;a!=null&&e++;this.props.categorizedTrayEnabled&&e++;return b("React").createElement("div",{className:this.props.selectedIndex!==-1?"_6ze2":"",key:"grid"},b("React").createElement(b("Grid.react"),{cols:e,className:"_4ukb"+(this.props.suppressTransition?" _3oia":"")+(this.props.hidden?" _akr":"")+(this.props.noSproutDesign?" _2j7c":"")},a,c),d)};l.NO_BG_COLOR=-1;l.DEFAULT_SWATCH_SIZE=28;l.EMOJI_PICKER_SIZE=24;l.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH=8;l.WIDTH_OF_STYLE_BUTTON=130;l.MAGNIFIED_SWATCH_SIZE=36;l.DEFAULT_COMPOSER_WIDTH=500;l.FontTextFormat={collectionName:a.object,textFormats:a.arrayOf(a.object)};l.propTypes={categorizedTextFormatPresets:a.arrayOf(a.object),categorizedTrayEnabled:a.bool,collapsed:a.bool,composerBodyWidth:a.number,disableNoBgColor:a.bool,hidden:a.bool,noSproutDesign:a.bool,onSelect:a.func.isRequired,onSelectInCategorizedFormatTray:a.func.isRequired,onToggle:a.func,onTrayToggle:a.func,selectedCategory:a.string,selectedIndex:a.number,suppressTransition:a.bool,textFormats:a.arrayOf(a.object).isRequired,trayShown:a.bool,canProduceSATPWithFont:a.bool,currentFontPresets:a.shape(l.FontTextFormat),onClickFontButton:a.func,blackFontPicker:a.bool,inlineEmojiPicker:a.bool,entryPoint:a.string,cancelButtonPosition:a.string,exceedCharacterCount:a.bool,onChange:a.func,putEmojiPickerBySATPSelector:a.bool};e.exports=l}),null);
__d("ComposerDestinationsEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_DESTINATIONS_BOTTOM_SHEET_OPENED:"composer_destinations_bottom_sheet_opened",COMPOSER_DESTINATIONS_BOTTOM_SHEET_DISMISSED:"composer_destinations_bottom_sheet_dismissed",COMPOSER_DESTINATIONS_NEWS_FEED_TOGGLED:"composer_destinations_news_feed_toggled",COMPOSER_DESTINATIONS_MY_STORY_TOGGLED:"composer_destinations_my_story_toggled",COMPOSER_DESTINATIONS_INSTAGRAM_TOGGLED:"composer_destinations_instagram_toggled",COMPOSER_DESTINATIONS_ADS_PE_POST_TOGGLED:"composer_destinations_ads_pe_post_toggled",COMPOSER_DESTINATIONS_FEED_PRIVACY_CLICKED:"composer_destinations_feed_privacy_clicked",COMPOSER_DESTINATIONS_MY_STORY_PRIVACY_CLICKED:"composer_destinations_my_story_privacy_clicked",COMPOSER_DESTINATIONS_SUBMIT_CLICKED:"composer_destinations_submit_clicked",COMPOSER_DESTINATIONS_MESSENGER_THREAD_TOGGLED:"composer_destinations_messenger_thread_toggled",COMPOSER_DESTINATIONS_MESSENGER_SEARCH_OPENED:"composer_destinations_messenger_search_opened",COMPOSER_DESTINATIONS_MESSENGER_SEARCH_FINISHED:"composer_destinations_messenger_search_finished",COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_OPENED:"composer_destinations_messenger_group_creation_intent_opened",COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_FINISHED:"composer_destinations_messenger_group_creation_intent_finished"})}),null);
__d("ComposerDestinationsLoggingUtils",["ComposerDestinationsEvents","ComposerXMarauderLogger","ReactComposerAudienceMessengerTypes","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logComposerDestinationsBottomSheetOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_BOTTOM_SHEET_OPENED,a)},logComposerDestinationsMyStoryToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MY_STORY_TOGGLED,a)},logComposerDestinationsNewsFeedToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_NEWS_FEED_TOGGLED,a)},logComposerDestinationsInstagramToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_INSTAGRAM_TOGGLED,a)},logComposerDestinationsAdsPePostToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_ADS_PE_POST_TOGGLED,a)},logComposerDestinationsSubmitClicked:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_SUBMIT_CLICKED,a)},logComposerDestinationsMessengerSearchOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_SEARCH_OPENED,a)},logComposerDestinationsMessengerGroupCreationOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_OPENED,a)},logComposerDestinationsMessengerGroupCreationFinished:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_FINISHED,a)},logComposerDestinationsMessengerThreadToggled:function(a,c,d,e,f,g){b("ComposerXMarauderLogger").logEvent(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_THREAD_TOGGLED.toLowerCase(),a,{extraData:{composer_session_id:c,new_value:d,thread_id:e,thread_type:f,position:g}})},_log:function(a,c){var d=b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(c);d={is_eligible_for_messenger:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(c),is_my_story_selected:b("ReactComposerAudienceStore").getStoriesSelected(c),is_ads_pe_post_selected:b("ReactComposerAudienceStore").getAdsPePostSelected(c),is_news_feed_selected:b("ReactComposerAudienceStore").getTimelineSelected(c),is_instagram_selected:b("ReactComposerAudienceStore").getInstagramSelected(c),thread_ids:{individual:d.get(b("ReactComposerAudienceMessengerTypes").INDIVIDUAL),existing_group:d.get(b("ReactComposerAudienceMessengerTypes").EXISTING_GROUP),new_group:d.parseNewMessengerGroups().map(function(a){return{users:a}}).toJS()}};var e=b("ReactComposerStore").getComposerData(c),f=e.actorID;e=e.isActorAPage;e&&(d=babelHelpers["extends"]({},d,{posting_as_page_id:f}));b("ComposerXMarauderLogger").logEvent(a.toLowerCase(),c,{extraData:d})}};e.exports=a}),null);
__d("ComposerPostEligibilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_POST_ELIGIBILITY:"composer_post_eligibility"})}),null);
__d("ComposerPostEligibilityLoggingUtils",["ComposerPostEligibilityEvents","ComposerXMarauderLogger","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";a={logComposerPostEligibility:function(a){this._log(b("ComposerPostEligibilityEvents").COMPOSER_POST_ELIGIBILITY,a)},_log:function(a,c){var d={is_eligible_for_messenger:!1,is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(c),is_my_story_selected:b("ReactComposerAudienceStore").getStoriesSelected(c),is_ads_pe_post_selected:b("ReactComposerAudienceStore").getAdsPePostSelected(c),is_news_feed_selected:b("ReactComposerAudienceStore").getTimelineSelected(c),is_instagram_selected:b("ReactComposerAudienceStore").getInstagramSelected(c)},e=b("ReactComposerStore").getComposerData(c),f=e.actorID;e=e.isActorAPage;e&&(d=babelHelpers["extends"]({},d,{posting_as_page_id:f}));b("ComposerXMarauderLogger").logEvent(a.toLowerCase(),c,{extraData:d})}};e.exports=a}),null);
__d("ReactComposerLoggingActions",["ExtensibleSproutsItemType","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingName","ReactComposerMediaUploadActionType"],(function(a,b,c,d,e,f){__p&&__p();a={composerEntry:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_ENTRY,uiElementName:c})},mediaUploadInputClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:c})},mediaUploadInputDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:c})},mediaFileDropped:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFileDropFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFilePasted:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},mediaFilePasteFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},sproutVisibilityUpdated:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SPROUT_VIEW_UPDATE,visibilityMap:c,event:d,sproutsState:e,promotedSprout:f,promotionID:g})},collectionSelectorCancel:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_CANCEL,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},collectionSelectorDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},composerCancel:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_CANCEL})},composerNavigateAwayAttempt:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT})},composerSharesheetPostClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED})}};e.exports=a}),null);
__d("ExtensibleSproutsSurfaceItemType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNDIRECTED_FEED_COMPOSER:"UNDIRECTED_FEED_COMPOSER",UNDIRECTED_FEED_PUBLISHER_BAR:"UNDIRECTED_FEED_PUBLISHER_BAR",UNDIRECTED_GROUPS_COMPOSER:"UNDIRECTED_GROUPS_COMPOSER",UNDIRECTED_PAGES_COMPOSER:"UNDIRECTED_PAGES_COMPOSER"})}),null);
__d("ReactComposerConfig",["ComposerEntryPointRef","ComposerSourceSurface","ComposerTargetData","ComposerTargetType","ExtensibleSproutsItemType","ExtensibleSproutsSurfaceItemType","React","ReactComposerAttachmentType","ReactComposerLoggingName","getObjectValues"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({actorConfig:a.object,attachmentsConfig:a.object.isRequired,audienceXHP:a.any,boostedPostButtonConfig:a.any,canPostScheduledLivingRoom:a.bool,contextInfo:a.object,destinationsConfig:a.shape({groups:a.object,instagram:a.shape({businessAccountID:a.string,isEnabled:a.bool,isVideoEnabled:a.bool}),isSharesheetEnabled:a.bool,showGroupSection:a.bool,showInstagramSection:a.bool,showStorySection:a.bool}),dialogComposer:a.bool,dialogElementID:a.string,pagesComposerNuxConfig:a.object,interceptionConfig:a.arrayOf(a.object),loggingConfig:a.shape({isEditComposer:a.bool,targetType:a.oneOf(b("getObjectValues")(b("ComposerTargetType"))).isRequired,ref:a.oneOf(b("getObjectValues")(b("ComposerEntryPointRef"))).isRequired,composerSourceSurface:a.oneOf(b("getObjectValues")(b("ComposerSourceSurface"))).isRequired,rankerRequestID:a.string,composerType:a.string,sproutSurface:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsSurfaceItemType"))),inlineSproutSurface:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsSurfaceItemType")))}).isRequired,activateOnInit:a.bool,mediaAcceptParam:a.shape({photos:a.string,both:a.string}),nuxConfig:a.object.isRequired,postButtonConfig:a.object,showExpandedComposer:a.bool,taggersConfig:a.object,sproutsConfig:a.object,inlineSproutsList:a.arrayOf(a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType")))),targetData:a.instanceOf(b("ComposerTargetData")).isRequired,instagramCrossPostingEnabled:a.bool,triggeredFrom:a.oneOf(Object.values(b("ReactComposerLoggingName"))),focusOnInit:a.bool,initSelectedAttachment:a.oneOf(b("getObjectValues")(b("ReactComposerAttachmentType"))),sproutWithNewBadge:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),sproutsPromotionConfig:a.shape({promotionID:a.number,sprout:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:a.string}),messengerConfig:a.shape({shimmer:a.object}),groupConfig:a.object,reactComposerFocusExtraConfigData:a.object})}),null);
__d("ReactComposerOptimisticPostingStore",["Arbiter","FBLogger","React","ReactComposerActionTypes","ReactComposerEvents","ReactComposerInit","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStoryContainer.react","ReactComposerStoreBase","ReactDOM","ifRequired","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";var a=function(a){switch(a.type){case b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(a);break;case b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING:case b("ReactComposerActionTypes").POST_SUCCEEDED:case b("ReactComposerActionTypes").POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(a);break;default:}}.bind(this);g.constructor.call(this,function(){return{hasVideo:null,optimisticallyPostingElement:null}},a)}a.prototype.isOptimisticallyPosting=function(a){"use strict";return!!this.getComposerData(a).optimisticallyPostingElement};a.prototype.hadOptimisticallyPosted=function(a){"use strict";return!!h[a]};a.prototype.$ReactComposerOptimisticPostingStore3=function(a,c){"use strict";b("Arbiter").inform(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+a),b("Arbiter").inform("LitestandComposer/publishTemp",{composer_id:a,markup:c}),b("setTimeout")(function(){b("ReactComposerInit").hideAndReplaceComposer(a)},0)};a.prototype.$ReactComposerOptimisticPostingStore1=function(a){"use strict";__p&&__p();var c=this.validateAction(a,["composerID","config","attachmentType","actorID","targetID"]),d=c[0],e=c[1],f=c[2],g=c[3];c=c[4];f=this.$ReactComposerOptimisticPostingStore4(b("React").createElement(b("ReactComposerOptimisticPostingStoryContainer.react"),{attachmentType:f,composerID:d,config:e,actorID:g,targetID:c,onPostFailure:a.onPostFailure}));this.getComposerData(d).optimisticallyPostingElement=f;b("ifRequired")("ReactComposerMediaUploadStore",function(a){this.getComposerData(d).hasVideo=a.getUploadsOfType(d,b("ReactComposerMediaUploadType").VIDEO).size}.bind(this),function(){b("FBLogger")("FIXME").mustfix("ReactComposerMediaUploadStore isn't loaded when it's supposed to be.")});this.emitChange(d);b("setTimeout")(this.$ReactComposerOptimisticPostingStore3.bind(null,d,f),0)};a.prototype.$ReactComposerOptimisticPostingStore2=function(a){"use strict";a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a).optimisticallyPostingElement;if(!c)return;this.getComposerData(a).optimisticallyPostingElement=null;this.getComposerData(a).hasVideo||b("ReactDOM").unmountComponentAtNode(c);h[a]=!0;this.emitChange(a)};a.prototype.$ReactComposerOptimisticPostingStore4=function(a){"use strict";var c=document.createElement("div");b("ReactDOM").render(a,c);return c};e.exports=new a()}),null);
__d("ReactComposerOptimisticAttachmentUtils",["React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerOptimisticPostingStoryListAttachmentContainer.react"],(function(a,b,c,d,e,f){"use strict";a.prototype.getOptimisticAttachment=function(a){var c=b("ReactComposerAttachmentStore").getProxiedAttachmentID(a)||b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);switch(c){case b("ReactComposerAttachmentType").LIST:return b("React").createElement(b("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"),{composerID:a});default:return null}};function a(){}e.exports=new a()}),null);
__d("ReactComposerOptimisticPostingStoryFailureMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){a=function(){return b("React").createElement("div",{className:"_1rsx"},h._("Your post failed to upload. Please check your internet connection and refresh the browser to try again."))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryGeneric.react",["cx","React"],(function(a,b,c,d,e,f,g){a=function(){return b("React").createElement("div",{className:"_3lza"},b("React").createElement("div",{className:"_6b3f _2iwq"},b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryHeader.react",["cx","fbt","Layout.react","ReactComposerProfilePhoto.react","React"],(function(a,b,c,d,e,f,g,h){var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=b("React").PropTypes;var k=function(){};c=function(a){var c=a.profilePicSrc;a=a.profileName;return b("React").createElement(b("Layout.react"),{className:"_1zm9"},b("React").createElement(i,{className:"_2pii"},b("React").createElement(b("ReactComposerProfilePhoto.react"),{src:c,profileName:a,onClick:k})),b("React").createElement(j,null,b("React").createElement("h6",{className:"_5pbw _3fr1"},a),b("React").createElement("span",{className:"_3fr2"},h._("Just now"))))};c.propTypes={profilePicSrc:a.string.isRequired,profileName:a.string.isRequired};e.exports=c}),null);
__d("VideoThumbnailUtils",["EventListener"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=document.createElement("video");d.setAttribute("src",a);return b("EventListener").listen(d,"loadedmetadata",function(){return c(d)})}e.exports={createVideoElementForComputation:a}}),null);
__d("ReactComposerOptimisticPostingStoryVideo.react",["cx","Bootloader","CssBackgroundImage.react","React","SubscriptionsHandler","VideoThumbnailUtils","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("VideoThumbnailUtils").createVideoElementForComputation,j=476;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={thumbSrc:null},this.$1=new(b("SubscriptionsHandler"))(),c}a.prototype.componentDidMount=function(){"use strict";this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(){},"ReactComposerOptimisticPostingStoryVideo.react"),i(this.props.videoUpload.fileURL,this.$2.bind(this)))};a.prototype.componentWillUnmount=function(){"use strict";this.$1.release()};a.prototype.$2=function(a){"use strict";this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(c){if(a.videoWidth===0||a.videoHeight===0)return;var d=a.videoWidth>a.videoHeight?{thumbnailWidth:j,thumbnailHeight:Math.round(a.videoHeight*j/a.videoWidth)}:{thumbnailWidth:Math.round(a.videoWidth*j/a.videoHeight),thumbnailHeight:j},e=d.thumbnailWidth;d=d.thumbnailHeight;b("promiseDone")(c(a,e,d,1,"cover"),function(a){a=a.thumbnails[0].getURL();this.setState({thumbSrc:a.indexOf("data:image/")===0?a:null})}.bind(this))}.bind(this),"ReactComposerOptimisticPostingStoryVideo.react"))};a.prototype.render=function(){"use strict";return b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{thumbSrc:this.state.thumbSrc}),b("React").createElement(l,null))};var k=function(a){a=a.thumbSrc;return a==null?b("React").createElement("div",{className:"_6b38 _6kbb"}):b("React").createElement(b("CssBackgroundImage.react"),{imageURI:a,className:"_6b38 _6ka0",backgroundPosition:"center"})},l=function(){return b("React").createElement("div",{className:"_bsl _3htz _6b39"})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryMedia.react",["cx","Image.react","React","ReactComposerCollageUtils","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStoryVideo.react","immutable"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=5,j=1e3;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a){"use strict";if(a.size===0)return[];else if(a.size===1)return b("ReactComposerCollageUtils").getSingleItemStyleInfo(a.first(),j);else{a=b("ReactComposerCollageUtils").getCollageLayoutConfig(a,j);return a.getItemStyleInfos()}};a.prototype.$2=function(a){"use strict";var b=0;a.forEach(function(a){a=a.top+a.height;a>b&&(b=a)});return b/j*100};a.prototype.$3=function(a){"use strict";__p&&__p();var c=a.length<=1;return a.map(function(a,d){__p&&__p();var e=this.props.mediaUploads.get(d),f=a.height/j*100,g=a.width/j*100,h=a.top/j*100,k=a.left/j*100;f={paddingBottom:""+f+"%",width:""+g+"%",top:""+h+"%",left:"inherit"};c||(f.left=""+k+"%");if(e.mediaType===b("ReactComposerMediaUploadType").VIDEO)g=b("React").createElement(b("ReactComposerOptimisticPostingStoryVideo.react"),{videoUpload:e});else{h=e.width/e.height;k=a.width/a.height;a=h>k?{height:"100%"}:{width:"100%"};h=e.isSpherical&&e.thumbSrc?e.thumbSrc:e.fileURL;g=b("React").createElement(b("Image.react"),{className:"_2y87",src:h,style:a})}k=null;this.props.mediaUploads.size>i&&d===i-1&&(k=this.$4());return b("React").createElement("div",{key:e.id,className:"_58vp",style:f},g,k)}.bind(this))};a.prototype.$4=function(){"use strict";var a=this.props.mediaUploads.size-i+1;return b("React").createElement("div",{className:"_52d9"},b("React").createElement("div",{className:"_52da"},b("React").createElement("div",{className:"_52db"},"+",a)))};a.prototype.render=function(){"use strict";var a=this.$1(this.props.mediaUploads.take(i));return b("React").createElement("div",{className:"_58vq",style:{paddingBottom:""+this.$2(a)+"%"}},this.$3(a))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={mediaUploads:c.instanceOf(b("immutable").List).isRequired};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryProgress.react",["cx","fbt","BUIProgressBar.react","React"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;c=function(a){a=a.percent;var c;a===null?c={isBuffering:!0}:c={percentage:a};return b("React").createElement("div",{className:"_2oj3"},b("React").createElement("span",null,h._("Uploading...")),b("React").createElement(b("BUIProgressBar.react"),babelHelpers["extends"]({className:"_2oj4",flexibleWidth:!0},c)))};c.propTypes={percent:a.number};e.exports=c}),null);
__d("ReactComposerOptimisticPostingStoryStatus.react",["cx","React"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=function(a){a=a.status;return b("React").createElement("div",{className:"_4sfj"},b("React").createElement("div",{className:"_5pbx"},a))};var h=a.oneOfType([a.number,a.string,a.element,a.arrayOf(h)]);c.PropTypes={status:h.isRequired};e.exports=c}),null);
__d("ReactComposerOptimisticPostingStoryVideoMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){a=function(){return b("React").createElement("div",{className:"_1rsx"},h._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view."))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryContainer.react",["cx","Arbiter","BootloadedComponent.react","JSResource","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerEvents","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerOptimisticAttachmentUtils","ReactComposerOptimisticPostingStore","ReactComposerOptimisticPostingStoryFailureMessage.react","ReactComposerOptimisticPostingStoryGeneric.react","ReactComposerOptimisticPostingStoryHeader.react","ReactComposerOptimisticPostingStoryMedia.react","ReactComposerOptimisticPostingStoryProgress.react","ReactComposerOptimisticPostingStoryStatus.react","ReactComposerOptimisticPostingStoryVideoMessage.react","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","StoreBasedStateMixinHelper","XUICard.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerOptimisticPostingStoryContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{attachmentType:a.string.isRequired,composerID:a.string.isRequired,config:b("ReactComposerConfig").isRequired,targetID:a.string.isRequired,actorID:a.string.isRequired,onPostFailure:a.func},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function(){return this._calculateState()},componentDidUpdate:function(a,c){this.state.isOptimisticallyPosting&&!this.state.isUploading&&!this.state.videoFinishedPosting&&this.state.uploadSuccessRate!==0&&b("ReactComposerActions").postStarted(this.props.composerID,{actorID:this.props.actorID,config:this.props.config,targetID:this.props.targetID,onPostFailure:this.props.onPostFailure})},componentDidMount:function(){this._previousPercent=0,this._mixin=new(b("StoreBasedStateMixinHelper"))([b("ReactComposerMediaUploadStore"),b("ReactComposerOptimisticPostingStore"),b("ReactComposerPhotoStore"),b("ReactComposerStore"),b("ReactComposerVideoUploadStore")]),this._mixin.subscribeCallback(function(a){this._recalculateStateID===null&&(this._recalculateStateID=setTimeout(function(){var a=this._calculateState(),b=Math.max(a.percent,this._previousPercent);a.percent=b;this._previousPercent=b;this.setState(a);this._recalculateStateID=null}.bind(this),0))}.bind(this)),b("ReactComposerMediaUploadStore")&&b("ReactComposerMediaUploadStore").getUploadsOfType(this.props.composerID,b("ReactComposerMediaUploadType").VIDEO).size&&b("Arbiter").subscribeOnce(b("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedPosting:!0})}.bind(this))},componentWillUnmount:function(){this._mixin&&this._mixin.release(),this._recalculateStateID&&clearTimeout(this._recalculateStateID)},_calculateState:function(){__p&&__p();var a=null,c=1;if(this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA&&b("ReactComposerMediaUploadStore")){var d=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID),e=0,f=0,g=0,h=0,i=0;d.forEach(function(a){a.get("fileSize")!==null?(f+=a.get("fileSize"),g+=(a.progress||0)*a.get("fileSize")):(h++,i+=a.progress||0),a.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&e++});if(h){var j=d.size-h;j=j?f/j:1;f+=j*h;g+=j*i}f&&(a=g/f);c=e/d.size}this.props.attachmentType===b("ReactComposerAttachmentType").STATUS&&(a=100);j=b("ReactComposerVideoUploadStore").getVideo(this.props.composerID)&&b("ReactComposerStore").isPosting(this.props.composerID);d=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(this.props.composerID);d=b("ReactComposerMediaUploadStore").isUploading(this.props.composerID)||b("ReactComposerPhotoStore").isRecognizing(this.props.composerID)||d||j;return{percent:a,videoFinishedPosting:this.state&&this.state.videoFinishedPosting,isUploading:d,isOptimisticallyPosting:b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(this.props.composerID),uploadSuccessRate:c}},_renderStatusElement:function(){var a=b("ReactComposerStatusStore").getMessageText(this.props.composerID);a=[].concat(a.split("\n"));for(var c=1;c<a.length;c+=2)a.splice(c,0,b("React").createElement("br",{key:c}));return b("React").createElement(b("ReactComposerOptimisticPostingStoryStatus.react"),{key:"status",status:a})},_renderMediaElement:function(){if(!b("ReactComposerMediaUploadStore"))return this._renderGenericElement();this._mediaUploads||(this._mediaUploads=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID));var a=b("React").createElement(b("ReactComposerOptimisticPostingStoryMedia.react"),{key:"media",mediaUploads:this._mediaUploads});return!b("ReactComposerStatusStore").getMessageText(this.props.composerID)?a:[this._renderStatusElement(),a]},_renderGenericElement:function(){return b("React").createElement(b("ReactComposerOptimisticPostingStoryGeneric.react"),null)},_renderFunFactElement:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT);return a.prompt?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerOptimisticPostingStoryFunFactTagger.react").__setRef("ReactComposerOptimisticPostingStoryContainer.react"),bootloadPlaceholder:b("React").createElement("div",null),className:"_1rl8",emoji:a.prompt.emoji,title:a.prompt.title}):null},_renderBody:function(){var a=null,c=null,d=b("ReactComposerOptimisticAttachmentUtils").getOptimisticAttachment(this.props.composerID),e=!1;this.props.attachmentType===b("ReactComposerAttachmentType").STATUS?a=this._renderStatusElement():this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA?a=this._renderMediaElement():a=this._renderGenericElement();b("ReactComposerTaggerStore").hasData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT)&&(c=this._renderFunFactElement(),e=!0);return b("React").createElement("div",{className:"_38-r"+(e?" _1rl9":"")},c,a,d)},render:function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=a.profilePicSrc;a=a.profileName;return b("React").createElement(b("XUICard.react"),{className:"_4rtr"},this.state.videoFinishedPosting?b("React").createElement(b("ReactComposerOptimisticPostingStoryVideoMessage.react"),null):!this.state.isUploading&&this.state.uploadSuccessRate===0?b("React").createElement(b("ReactComposerOptimisticPostingStoryFailureMessage.react"),null):b("React").createElement(b("ReactComposerOptimisticPostingStoryProgress.react"),{percent:this.state.percent}),b("React").createElement(b("ReactComposerOptimisticPostingStoryHeader.react"),{profilePicSrc:c,profileName:a}),this._renderBody())}});e.exports=c}),null);
__d("ReactComposerOptimisticPostingActions",["ReactComposerConfig","ReactComposerDispatcher","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStore"],(function(a,b,c,d,e,f){b("ReactComposerOptimisticPostingStore");a={startOptimisticallyPosting:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,config:c,attachmentType:d,actorID:e,targetID:f,onPostFailure:g,type:b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING})},finishOptimisticallyPosting:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING})}};e.exports=a}),null);
__d("ReactComposer.react",["cx","ComposerTestID","FluxContainer","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hasBeenActive:!1,isActive:!1},b}a.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerSessionMetricsStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{isActive:b("ReactComposerStore").isActive(a)}};a.prototype.componentDidMount=function(){b("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.context.gks&&this.context.gks.lazySproutsExpand,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout,this.props.activateOnInitEntryPoint),this.props.activateOnInit&&b("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};a.prototype.componentDidUpdate=function(a,c){this.state.isActive&&!this.state.hasBeenActive&&(this.setState({hasBeenActive:!this.state.hasBeenActive}),b("ReactComposerLoggingQueue").initBootload(this.context.composerID,b("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig))};a.prototype.componentWillUnmount=function(){b("ReactComposerInit").unmountInstance(this.context.composerID,!0)};a.prototype.render=function(){var a="_36bx"+(this.props.hideBorders?" _4a60":"");return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(this.props.className,a),"data-testid":b("ComposerTestID").REACT_COMPOSER_ROOT,"data-test-actorid":this.context.actorID,id:this.context.composerID},this.props.children)};a.defaultProps={hideBorders:!1,activateOnInit:!1,activateOnInitEntryPoint:b("ReactComposerLoggingName").OTHERS};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBodyContainer.react",["cx","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerBody.react","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(d.composerID);return{active:a}};a.getStores=function(){return[b("ReactComposerAttachmentStore")]};a.prototype.render=function(){var a=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return b("React").createElement(b("ReactComposerBody.react"),{className:a},this.props.children)};function a(){h.apply(this,arguments)}a.defaultProps={expanded:!1,hasMinHeight:!0};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("CollectionThumbnail.react",["cssVar","cx","fbt","BackgroundImage.react","Focus","React","isKeyActivation","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){b("isKeyActivation")(a)&&(this.props.onClick&&this.props.onClick(a))}.bind(this),c}a.prototype.focus=function(){b("Focus").set(this.$1,!0)};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$2,tabIndex:0,ref:function(a){return this.$1=a}.bind(this),role:"button"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"cover",height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),b("React").createElement("div",{className:"_3iom"},b("React").createElement("div",{className:"_3ion"},b("React").createElement(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName),b("React").createElement("div",{className:"_3ioo"},i._({"*":"{number of posts} posts","_1":"1 post"},[i._plural(this.props.numPosts,"number of posts")]))))};a.propTypes={collectionID:c.oneOfType([c.string,c.number]).isRequired,collectionName:c.string.isRequired,className:c.string,numPosts:c.number.isRequired,onClick:c.func,thumbnailURL:c.string.isRequired,privacyIcon:c.string};e.exports=a}),null);
__d("ReactComposerCollectionsActions",["ReactComposerCollectionsActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={showCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR})},hideCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},hideCollectionsSelectorWithoutLogging:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},showCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER})},hideCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER})},showSharingSpaceCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER})},hideSharingSpaceCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER})},spacesLoaded:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED,spaceCount:d})}};e.exports=a}),null);
__d("XReactComposerCollectionSelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/collections/selector/",{spaces_aware:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerCollectionsStore",["AsyncRequest","LoadObject","ReactComposerActionStore","ReactComposerCollectionsActionTypes","XReactComposerCollectionSelectorController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerActionStore"));g=c&&c.prototype;function a(){__p&&__p();var a;g.constructor.call(this,function(){return{collectionsLoadObject:null,isSelectorVisible:!1}},function(c){switch(c.type){case b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:a&&a.$ReactComposerCollectionsStore1(c);break;case b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:a&&a.$ReactComposerCollectionsStore2(c);break;case b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:a&&a.$ReactComposerCollectionsStore3(c);break;case b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:a&&a.$ReactComposerCollectionsStore4(c);break}});a=this}a.prototype.loadCollections=function(a){var c=this.getComposerData(a);c.collectionsLoadObject=b("LoadObject").loading();c=b("XReactComposerCollectionSelectorController").getURIBuilder().setBool("spaces_aware",!0).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("GET").setReadOnly(!0).setHandler(function(c){var b=this.getComposerData(a);c={albums:c.payload.albums};b.collectionsLoadObject=b.collectionsLoadObject.setValue(c).done();this.emitChange(a)}.bind(this)).send()};a.prototype.addNewAlbum=function(a,b){this.$ReactComposerCollectionsStore5(a,b)};a.prototype.$ReactComposerCollectionsStore5=function(a,b){__p&&__p();var c=this.getCollections(a);if(!c||!c.isDone())return;c=c.getValue();if(c==null)return;c=c.albums;c||(c=[]);c.unshift(b);this.emitChange(a)};a.prototype.getCollections=function(a){a=this.getComposerData(a);return a.collectionsLoadObject};a.prototype.getCollectionByID=function(a,b){a=this.getComposerData(a);a=a.collectionsLoadObject;if(!a||!a.isDone())return null;a=a.getValue();return a.albums&&a.albums.find(function(a){return a.id===b})};a.prototype.isSelectorVisible=function(a){a=this.getComposerData(a);return a.isSelectorVisible};a.prototype.$ReactComposerCollectionsStore1=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.collectionsLoadObject||this.loadCollections(a);b.isSelectorVisible=!0;this.emitChange(a)};a.prototype.$ReactComposerCollectionsStore2=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isSelectorVisible=!1;this.emitChange(a)};a.prototype.isCreationLayerVisible=function(a){a=this.getComposerData(a);return a.isCreationLayerVisible};a.prototype.$ReactComposerCollectionsStore3=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!0;this.emitChange(a)};a.prototype.$ReactComposerCollectionsStore4=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!1;this.emitChange(a)};e.exports=new a()}),null);
__d("ReactComposerCollectionSelector.react",["ix","cx","fbt","AccessibleLayer","CollectionThumbnail.react","ContextualLayer.react","ContextualLayerAutoFlip","Grid.react","ReactComposerAudienceActions","ReactComposerCollectionsActions","ReactComposerCollectionsStore","ReactComposerLoggingActions","ReactComposerLoggingName","InlineBlock.react","Image.react","LayerAutoFocus","LayerHideOnEscape","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","Link.react","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUIPopoverButton.react","XUISpinner.react","ReactComposerContextTypes","React","ReactDOM","fbglyph","focusWithinLayer","ifRequired","isKeyActivation"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Grid.react").GridItem;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$3=function(){this.props.selectorVisible||b("ReactComposerCollectionsActions").showCollectionsSelector(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_BUTTON)}.bind(this),this.$4=function(a){b("isKeyActivation")(a)&&this.$5(a.nativeEvent)}.bind(this),this.$5=function(a){b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_CLEAR_BUTTON,null),a.stopPropagation()}.bind(this),this.$6=function(a,c){c===void 0&&(c=b("ReactComposerLoggingName").OTHERS),!a&&this.props.selectorVisible&&b("ReactComposerCollectionsActions").hideCollectionsSelector(this.context.composerID,c)}.bind(this),this.$7=function(){b("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(this.context.composerID),b("ReactComposerCollectionsActions").showCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_BUTTON)}.bind(this),c}a.prototype.componentDidUpdate=function(a,c){__p&&__p();if(this.props.selectorVisible&&!a.selectorVisible&&this.props.selectedCollectionID){c=b("ReactDOM").findDOMNode(this.refs[this.props.selectedCollectionID]);if(c!==null&&this.$1!==null){var d=b("ReactDOM").findDOMNode(this.$1);d!==null&&(d.scrollTop=c.offsetTop)}}if(a.collections&&a.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){d=b("ReactDOM").findDOMNode(this.$2);d&&b("focusWithinLayer")(d,!0)}};a.prototype.$8=function(){b("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON,!0),b("ReactComposerLoggingActions").collectionSelectorCancel(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_CANCEL_BUTTON)};a.prototype.$9=function(a){b("ReactComposerCollectionsStore").addNewAlbum(this.context.composerID,a),b("ReactComposerCollectionsActions").hideCreationLayer(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON),b("ReactComposerLoggingActions").collectionSelectorDone(this.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_CREATE_SUBMIT_BUTTON),this.$10(a)};a.prototype.$10=function(a){a.id==this.props.selectedCollectionID?b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,null):b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,a.id,a.privacyLabel),this.$6(!1,b("ReactComposerLoggingName").COLLECTION_SELECTED),b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(this.context.composerID)}.bind(this))};a.prototype.$11=function(a){if(a==null)return null;a=b("ReactComposerCollectionsStore").getCollectionByID(this.context.composerID,a);return a?a.name:null};a.prototype.$12=function(a){if(a){a=this.$11(a);if(a)return a}return i._("+ Album").toString()};a.prototype.$13=function(){return b("React").createElement(b("ShimButton.react"),{className:(this.props.selectedCollectionID?"":"autofocus")+" _2vw6 _1xp0",key:"addAlbumButton",onClick:this.$7},b("React").createElement("div",{className:"_1xp2"},b("React").createElement("div",{className:"_1xp3"}),i._("Create Album")))};a.prototype.$14=function(){return b("React").createElement("div",{key:"albumsNullState",className:"_1d5t"},b("React").createElement("span",{className:"_1d5u"}),b("React").createElement("div",{className:"_1d5v"},i._("No albums to show")),b("React").createElement(b("XUIButton.react"),{label:i._("Create Album"),use:"confirm",onClick:this.$7}))};a.prototype.$15=function(){var a=this.props.collections&&this.props.collections.getValue(),b=this.$13();return!a||!a.albums||a.albums.length===0?this.$14():this.$16("albumsGrid",b,a.albums)};a.prototype.$16=function(a,c,d){c=[c];d&&c.push(d.map(function(a){return b("React").createElement(k,{ref:a.id,key:a.id,className:a.id===this.props.selectedCollectionID?"_5zfq":""},b("React").createElement(b("CollectionThumbnail.react"),{className:a.id===this.props.selectedCollectionID?"autofocus":"",collectionID:a.id,collectionName:a.name,numPosts:a.numPosts,onClick:function(){return this.$10(a)}.bind(this),thumbnailURL:a.thumbnailURL,privacyIcon:a.privacyIcon}))}.bind(this)));return b("React").createElement(b("Grid.react"),{key:a,className:"_1d5w",cols:2,fixed:!1},c)};a.prototype.$17=function(){if(!this.props.collections)return null;else return b("React").createElement(b("ContextualLayer.react"),{behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),onToggle:this.$6,position:"below",shown:this.props.selectorVisible},b("React").createElement(b("XUICard.react"),{className:"_5ze9"},b("React").createElement(b("XUICardHeader.react"),{className:"_5zea",type:"primary"},b("React").createElement(b("XUICardHeaderTitle.react"),null,i._("Albums"))),b("React").createElement(b("XUICardSection.react"),{ref:function(a){return this.$1=a}.bind(this),className:"_5zeh"},!this.props.collections||this.props.collections.isLoading()?b("React").createElement("div",{className:"_2n10"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):b("React").createElement("div",{ref:function(a){return this.$2=a}.bind(this)},this.$15()))))};a.prototype.$18=function(){return null};a.prototype.$19=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?"below":"above"},i._("Now you can add posts, check-ins and more to albums"))};a.prototype.render=function(){var a=!!this.$11(this.props.selectedCollectionID);return b("React").createElement(b("InlineBlock.react"),{className:"uiContextualLayerParent"},this.props.alternateTriggerComponent?b("React").createElement(b("Link.react"),{role:"button",onClick:this.$3,ref:"collectionSelectorTrigger"},this.props.alternateTriggerComponent):b("React").createElement(b("XUIPopoverButton.react"),{className:"_5ze8",label:this.$12(this.props.selectedCollectionID),onClick:this.$3,ref:"collectionSelectorTrigger",use:"confirm",chevron:a?b("React").createElement(b("Image.react"),{onClick:this.$5,onKeyDown:this.$4,role:"button",src:g("114707"),tabIndex:0}):null}),this.$17(),this.$18(),this.props.onAnyPostTypeNuxVisible&&this.$19())};a.defaultProps={collections:null,creationLayerVisible:!1,selectedCollectionID:null,selectorVisible:!1,showAnyPostTypeNux:!1,onAnyPostTypeNuxVisible:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerCollectionSelectorContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerCollectionSelector.react","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerSproutsDisplayState","ReactComposerStore","SimpleNUXMessage","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerCollectionSelectorContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAudienceStore"),b("ReactComposerCollectionsStore"))],propTypes:{alternateTriggerComponent:a.element,addAnyPostToAlbum:a.bool},statics:{calculateState:function(a,c,d){return{collections:b("ReactComposerCollectionsStore").getCollections(a),selectedCollectionID:b("ReactComposerAudienceStore").getCollectionID(a),isSelectorVisible:b("ReactComposerCollectionsStore").isSelectorVisible(a),isCreationLayerVisible:b("ReactComposerCollectionsStore").isCreationLayerVisible(a),showAnyPostTypeNux:c.addAnyPostToAlbum&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID)}}},_onAnyPostTypeNuxClose:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),this.setState({showAnyPostTypeNux:!1})},render:function(){return b("React").createElement(b("ReactComposerCollectionSelector.react"),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,onAnyPostTypeNuxVisible:this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED})}});e.exports=c}),null);
__d("ReactComposerFooter.react",["cx","ComposerTestID","React","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";if(!this.props.showInlineSproutsPostBar&&this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE)return null;var a=b("joinClasses")("_2dck",this.props.className);return b("React").createElement(b("XUICardSection.react"),{background:this.props.background,className:a,"data-testid":b("ComposerTestID").REACT_COMPOSER_FOOTER},this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={background:"white"};e.exports=a}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=b("joinClasses")("_2ph-",this.props.className);return b("React").createElement(b("XUICardSection.react"),{className:a},this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerFooterContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerFooter.react","ReactComposerStore","ifRequired","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("ReactComposerAudienceActions").clickSeeMessenger(this.context.composerID)}.bind(this),c}a.calculateState=function(a,c,d){return{adsPostSelected:b("ReactComposerAudienceStore").getAdsPePostSelected(d.composerID),instagramSelected:b("ReactComposerAudienceStore").getInstagramSelected(d.composerID),isComposerFocused:b("ifRequired")("ReactComposerFocusStore",function(a){return a.isComposerFocused(d.composerID)},function(){return!1}),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),storiesSelected:b("ReactComposerAudienceStore").getStoriesSelected(d.composerID),timelineSelected:b("ReactComposerAudienceStore").getTimelineSelected(d.composerID),selectedMessengerRecipientEntries:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d.composerID),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};a.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerAudienceStore")];b("ifRequired")("ReactComposerFocusStore",function(b){a.push(b)});return a};a.prototype.render=function(){var a=this.context.gks&&this.context.gks.isSproutsComposer,c=this.props.footerModule||b("ReactComposerFooter.react");return b("React").createElement(c,babelHelpers["extends"]({adsPostSelected:this.state.adsPostSelected,instagramSelected:this.state.instagramSelected,isComposerFocused:this.state.isComposerFocused,sproutsDisplayState:a?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar,storiesSelected:this.state.storiesSelected,timelineSelected:this.state.timelineSelected,selectedMessengerRecipientEntries:this.state.selectedMessengerRecipientEntries,messengerSectionVisible:this.state.messengerSectionVisible,onClickSeeMore:this.$1},this.props))};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","Arbiter","BanzaiODS","BootloadedComponent.react","Bootloader","ComposerConfirmationDialogEventTypedLogger","ComposerDestinationsLoggingUtils","ComposerPostEligibilityLoggingUtils","FBIDCheck","JSResource","PagesComposerContextUtils","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAsset3DStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFormattedTextPickerComponent.react","ReactComposerInit","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPostDataUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReloadPage","SimpleXUIDialog","XUIButtonGroup.react","$","debounce","ifRequired","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="misinfo_warning_disputed_flags",i="composer_confirmation_dialog_shown",j="composer_posted_anyways";a=b("React").PropTypes;c={contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerOptimisticPostingStore"),b("ReactComposerStore"),b("ReactComposerAsset3DStore"),b("ReactComposerAudienceStore"),b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"))],propTypes:{config:b("ReactComposerConfig").isRequired,forceDisabled:a.bool,onClickPreprocess:a.func,useDefaultScheduleComponent:a.bool,isMediaUploading:a.bool},getDefaultProps:function(){return{forceDisabled:!1}},statics:{calculateState:function(a,c,d){var e=b("ReactComposerStore").isPosting(a),f=b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a),g=b("ReactComposerAsset3DStore").isCreating(a);d=b("ReactComposerPostDataUtils").isEmptyAttachment(c.config,d);var h=b("ReactComposerScrapedAttachmentStore").isScraping(a),i=!!b("ReactComposerStatusStore").getMessageText(a).trim(),j=b("ReactComposerAudienceStore").getTimelineSelected(a);return{disabled:d||c.forceDisabled||e||f||g||h&&!i,isPosting:e,isOptimisticallyPosting:f,destinationPickerEligible:b("ReactComposerAttachmentStore").isSelectedAttachmentDestinationPickerEligible(a),timelineSelected:j}},getButtonSize:function(){return"medium"}},render:function(){var a=!this.context.gks.optimisticPosting&&b("PagesComposerContextUtils").getIsDialogComposer(this.props.config.loggingConfig.ref);a=b("React").createElement(b("ReactComposerPostButton.react"),babelHelpers["extends"]({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:b("debounce")(this._onClick),isPosting:this.state.isPosting,isMediaUploading:this.props.isMediaUploading,timelineSelected:this.state.timelineSelected,hideSpinner:a}));if(this.props.useDefaultScheduleComponent&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr){var c=!1;this.context.composerType==="timeline"&&this.context.actorID===this.context.targetID&&b("FBIDCheck").isUser_deprecated(this.context.actorID)&&(c=!0);return b("React").createElement("span",null,b("React").createElement(b("XUIButtonGroup.react"),null,a),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin"),bootloadPlaceholder:b("React").createElement("div",null),composerID:this.context.composerID,isUserTimeline:c,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:this.props.config.actorConfig.minScheduledTimeDelta,maxScheduledTimeDelta:this.props.config.actorConfig.maxScheduledTimeDelta,timezoneOffset:this.props.config.actorConfig.timezoneOffset,defaultScheduledTimeDelta:this.props.config.actorConfig.defaultScheduledTimeDelta}))}return a},_onClick:function(a){this.state.destinationPickerEligible&&(this.context.gks.oneStepComposer||this.context.gks.showPagesDestinationPicker)&&b("ComposerDestinationsLoggingUtils").logComposerDestinationsSubmitClicked(this.context.composerID);b("ComposerPostEligibilityLoggingUtils").logComposerPostEligibility(this.context.composerID);if(this.state.disabled)return;if(this.props.onClickPreprocess&&!this.props.onClickPreprocess())return;b("ifRequired")("ReactComposerFormattedTextStore",function(a){this._checkEmptyTextWithBackgroundColor(a)}.bind(this),function(){this._validateAndStartPost()}.bind(this))},_checkEmptyTextWithBackgroundColor:function(a){var c=b("ReactComposerStatusStore").getTextLength(this.context.composerID);a=a.getBackgroundColorIsActive(this.context.composerID);c===0&&a?b("Bootloader").loadModules(["XUIDialogButton.react"],function(a){a=b("React").createElement("div",null,b("React").createElement(a,{action:"cancel",label:g._("Go Back")}),b("React").createElement(a,{action:"cancel",label:g._("Post"),onClick:function(){this._removeBackground(),this._validateAndStartPost()}.bind(this),use:"confirm"}));b("SimpleXUIDialog").showEx(g._("The background you selected will only appear when you add text to your post."),g._("Post Without Background?"),a)}.bind(this),"ReactComposerPostButtonContainerMixin"):this._validateAndStartPost()},_handleDisputedWarningConfirmation:function(a){b("BanzaiODS").bumpEntityKey(h,j),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("confirm").setEventLocation("composer").setCorrelationID(a).log()},_handleDisputedWarningCancellation:function(a){new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("cancel").setEventLocation("composer").setCorrelationID(a).log()},_handleDisputedWarningShowing:function(a){b("BanzaiODS").bumpEntityKey(h,i),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("shown").setEventLocation("composer").setCorrelationID(a).log()},_validateAndStartPost:function(){__p&&__p();if(this._validateAlbumAddition()===!1){b("SimpleXUIDialog").show(g._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),g._("Cannot add post to album"));b("BanzaiODS").bumpEntityKey("www_composer_albumsv2","error_no_media");return}var a=this.context.composerID,c=b("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(a),d=c==null?b("uuid")():c.getRoot().id;if(c){var e=b("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(a),f=c.subscribe("confirm",function(){c.hide(),c.destroy(),e&&this._handleDisputedWarningConfirmation(d),this._doStartPost()}.bind(this)),h=c.subscribe("cancel",function(){e&&this._handleDisputedWarningCancellation(d)}.bind(this)),i=c.subscribe("show",function(){e&&this._handleDisputedWarningShowing(d)}.bind(this)),j=c.subscribe("hide",function(){f.unsubscribe(),h.unsubscribe(),i.unsubscribe(),j.unsubscribe()});c.show();return}else this._doStartPost()},_removeBackground:function(){b("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(a){a.setSelectedIndex(this.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)}.bind(this),"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function(){var a=this.context.composerID,c=b("ReactComposerAudienceStore").getCollectionID(a);if(!c)return!0;c=b("ReactComposerMediaUploadStore").getUploads(a);return c&&c.size>0?!0:this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function(){__p&&__p();var a=b("ReactComposerAudienceStore").getTimelineSelected(this.context.composerID);this.context.gks.optimisticPosting&&a?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});if(this.props.config.dialogComposer)if(this.context.gks.optimisticPosting&&!this.props.config.dialogComposerRefreshOnPost)b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this.context.composerID,function(){b("Arbiter").inform(this.props.config.dialogHideOnEvent)}.bind(this)),b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID)});else{a=b("$")(this.props.config.dialogElementID);a.parentNode&&a.parentNode.removeChild(a);b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID),b("ReloadPage").delay(0)})}}};e.exports=c}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerPostButtonContainer",mixins:[b("ReactComposerPostButtonContainerMixin")]});e.exports=a}),null);
__d("ReactComposerLazyProfilePhotoBlock.react",["JSResource","React","ReactComposerProfilePhotoBlock.react","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g,h=b("lazyLoadComponent")(b("JSResource")("ReactComposerProfilePhotoVoiceSwitcherBlock.react").__setRef("ReactComposerLazyProfilePhotoBlock.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return this.props.useVoiceSwitcher?b("React").createElement("span",null,b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{children:this.props.children,config:this.props.config}))):b("React").createElement(b("ReactComposerProfilePhotoBlock.react"),{profileName:this.props.profileName,profilePicSrc:this.props.profilePicSrc,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:this.props.onClick},this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerEllipsisSproutContainer.react",["csx","cx","ix","ComposerTestID","DOM","DOMTraverser","ExtensibleSproutsItemType","Focus","React","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutItem.react","ReactComposerStore","TabbableElements","ge"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.context.gks&&this.context.gks.lazySproutsExpand&&this.$3(),b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(this.context.composerID,b("ExtensibleSproutsItemType").ELLIPSIS,b("ReactComposerLoggingName").ELLIPSIS_SPROUT,b("ReactComposerStore").getSproutSurface(this.context.composerID))}.bind(this),this.$1=function(a){this.$3()}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{onKeyDown:this.$1},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:{label:"",icon:i("28705"),iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",className:"_1gr3",loggingName:b("ReactComposerLoggingName").ELLIPSIS_SPROUT,webDriverTestID:b("ComposerTestID").ELLIPSIS_SPROUT},onClick:this.$2}))};a.prototype.$3=function(){b("ReactComposerActions").expandSprouts(this.context.composerID),window.setTimeout(function(){var a=b("ge")(this.context.composerID),c=b("DOM").find(a,"._16vl");a=b("DOMTraverser").nextFilteredNode(a,c,function(a){return b("TabbableElements").isTabbable(a)});b("Focus").set(a)}.bind(this),0)};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={loading:!1},this.$1=function(){this.setState({loading:!0}),this.props.uiConfig.sproutTaggerID&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,this.props.uiConfig.sproutTaggerID,!0)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$1,loading:this.state.loading})};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("CreatorStudioComposerActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;function a(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_COMPOSER_INITIALIZED})}function c(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_SUCCESS})}function d(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_ATTEMPT})}function f(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CANCEL})}function h(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CONFIRM})}function i(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_ERROR})}function j(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_INITIALIZED})}function k(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BASIC_POST,entryPoint:a})}function l(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BULK_UPLOAD})}function m(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_GO_LIVE_POST,entryPoint:a})}function n(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_VIDPRESSO_NEW_POST,entryPoint:a})}function o(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_SINGLE_VIDEO,fileInput:a,entryPoint:c})}function p(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_BOOTLOAD_ERROR})}function q(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_SET_TARGET_PAGE,targetPage:a})}function r(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_INITIALIZED})}function s(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_PUBLISH_SUCCESS})}e.exports={basicPostComposerInitialized:a,basicPostSuccess:c,closeTrayAttempt:d,closeTrayCancel:f,closeTrayConfirm:h,goLiveComposerError:i,goLiveComposerInitialized:j,launchBasicPostTray:k,launchComposerBulkUpload:l,launchGoLivePost:m,launchSingleVideoComposer:o,launchVidpressoNewPost:n,setBasicPostBootloadError:p,setTargetPage:q,videoComposerInitialized:r,videoComposerPublishSuccess:s}}),null);
__d("CreatorStudioComposerTypes",["EditorState","ExpirationType","ImmutableRecordWithV4Types","VideoComposerPublishingTypes","VideoComposerTagSuggestionSources","getMentionsInputDecorator","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c=b("VideoComposerPublishingTypes").PublishingType;d=a({accessToken:"",historyTags:null,mentionsSearchSource:null,suggestedTags:null,taggingGrowthExperimentEnabled:!1});f=a({id:"",title:null,icon:null,onClick:function(a){},shouldShow:!1,buttonWidth:0});c=a({backdateDay:null,backdateMonth:null,backdateYear:null,expireDate:null,expireType:b("ExpirationType").NONE,hideFromNewsFeed:!1,isFundedContent:!1,minBackdateTime:0,publishingType:c.PUBLISH_NOW,premiereCSType:"premiere",premiereDate:null,premiereDisabledReason:null,premiereFeedBackgroundImageURL:null,scheduleDate:null,shouldPremiere:!1,showPremiereOption:!1,showPremiereNowOption:!1,showPremiereUnderSchedule:!1,showBestPracticesChecklist:!1});var g=a({error:null,success:!1});b=a({descriptionEditorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")()),title:"",contentTags:[],selectedThumbnail:null,customThumbnail:null,scrubbedThumbnail:null,publishingData:c(),tagSuggestionSource:b("VideoComposerTagSuggestionSources").BROWSE});var h=a({description:!0,tags:!0,title:!0,thumbnail:!0,publishingData:!0});a=a({title:!1,description:!1,tags:!1,thumbnail:!1,publishingData:!1});e.exports={ComposerPostTypeConfigFactory:f,CrosspostFieldReplicationFlagsRecordFactory:h,MultipostInlineInputRecordFactory:b,MultipostCrosspostPublishingDataRecordFactory:c,MultipostCrosspostCreationResultDataRecordFactory:g,MultipostInlineLoggingFlagsRecordFactory:a,MultipostCrosspostPageInitDataRecordFactory:d}}),null);
__d("MediaManagerComposerPost",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BASIC_POST:"basic_post",BULK_UPLOAD:"bulk_upload",SINGLE_VIDEO:"single_video",STORY:"story",GO_LIVE:"go_live",MULTI_POST:"multi_post",VIDPRESSO_POST:"vidpresso_post"})}),null);
__d("CreatorStudioPostTypeConfigs",["ix","fbt","CreatorStudioComposerActions","CreatorStudioComposerTypes","CreatorStudioMultipostActions","MediaManagerComposerPost","MediaManagerEventSource","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("CreatorStudioComposerTypes").ComposerPostTypeConfigFactory;c=a({id:b("MediaManagerComposerPost").BASIC_POST,title:h._("Post something..."),icon:g("638077"),onClick:function(a){return b("CreatorStudioComposerActions").launchBasicPostTray(a)},shouldShow:!0});d=a({id:b("MediaManagerComposerPost").SINGLE_VIDEO,title:h._("Upload Video"),icon:g("638642"),onClick:function(a){},shouldShow:!0,buttonWidth:165});f=a({id:b("MediaManagerComposerPost").STORY,title:h._("Add Story"),icon:g("504443"),onClick:function(a){},shouldShow:!1,buttonWidth:151});var i=a({id:b("MediaManagerComposerPost").GO_LIVE,title:h._("Go Live"),icon:g("638633"),onClick:function(a){return b("CreatorStudioComposerActions").launchGoLivePost(a)},shouldShow:!0,buttonWidth:151});a=a({id:b("MediaManagerComposerPost").MULTI_POST,title:h._("Post Video Across Pages"),icon:g("776932"),onClick:function(){return b("CreatorStudioMultipostActions").openPageSelectorTray(b("MediaManagerEventSource").GLOBAL_COMPOSER_CIRCLE_ENTRY_POINT)},shouldShow:b("gkx")("678879"),buttonWidth:185});e.exports={BASIC_POST:c,SINGLE_VIDEO:d,STORY:f,GO_LIVE:i,MULTI_POST:a}}),null);
__d("MediaManagerTab",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOUND_COLLECTION:"sound_collection",DASHBOARD:"dashboard",PAGES:"pages",INSIGHTS:"insights",INSIGHTS_PERFORMANCE:"insights_performance",INSIGHTS_EARNINGS:"insights_earnings",INSIGHTS_FUNNEL:"insights_funnel",INSIGHTS_LOYALTY:"insights_loyalty",INSIGHTS_AUDIENCE:"insights_audience",INSIGHTS_SURFACES:"insights_surfaces",CONTENT:"content",CONTENT_POSTS:"content_posts",CONTENT_MEDIA:"content_media",CONTENT_PLAYLISTS:"content_playlists",CONTENT_SHOWS:"content_shows",INBOX:"inbox",MONETIZATION:"monetization",MONETIZATION_AD_BREAKS:"monetization_ad_breaks",MONETIZATION_FAN_SUBSCRIPTIONS:"monetization_fan_subscriptions",MONETIZATION_PAYOUT_SETTINGS:"monetization_payout_settings",MONETIZATION_PLAYBOOK:"monetization_playbook",MONETIZATION_ELIGIBILITY:"monetization_eligibility",MONETIZATION_REFERRAL:"monetization_referral",HOME:"home",RIGHTS_MANAGER:"rights_manager",RIGHTS_MANAGER_DISPUTES:"rights_manager_disputes",RIGHTS_MANAGER_PUBLISHER_DISPUTES:"rights_manager_publisher_disputes",RIGHTS_MANAGER_MATCHING_VIDEOS:"rights_manager_matching_videos",RIGHTS_MANAGER_REFERENCE_LIBRARY:"rights_manager_reference_library",RIGHTS_MANAGER_SETTINGS:"rights_manager_settings",RIGHTS_MANAGER_COMPOSITIONS:"rights_manager_compositions",RIGHTS_MANAGER_PUBLISHER_MATCHING_VIDEOS:"rights_manager_publisher_matching_videos",RIGHTS_MANAGER_SOUND_RECORDINGS:"rights_manager_sound_recordings",SETTINGS:"settings",SETTINGS_ACCOUNTS:"settings_accounts",SETTINGS_ROLES:"settings_roles",SAMPLE:"sample",CODEGEN_EXPERIMENT:"codegen_experiment",CREATIVE_TOOLS:"creative_tools",GAME_SHOWS:"game_shows",CT_SOUND_COLLECTION:"ct_sound_collection",INSTAGRAM_CONTENT:"instagram_content",INSTAGRAM_CONTENT_POSTS:"instagram_content_posts",INSTAGRAM_INSIGHTS:"instagram_insights",INSTAGRAM_INSIGHTS_ACTIVITY:"instagram_insights_activity",INSTAGRAM_INSIGHTS_AUDIENCE:"instagram_insights_audience",VIDPRESSO:"vidpresso",VIDPRESSO_SIGNUP:"vidpresso_signup"})}),null);
__d("CreatorStudioComposerUtils",["ComposerEntryPointRef","CreatorStudioPostTypeConfigs","MediaManagerTab","PageAdminTypes"],(function(a,b,c,d,e,f){"use strict";a=[b("CreatorStudioPostTypeConfigs").BASIC_POST,b("CreatorStudioPostTypeConfigs").SINGLE_VIDEO,b("CreatorStudioPostTypeConfigs").STORY,b("CreatorStudioPostTypeConfigs").GO_LIVE,b("CreatorStudioPostTypeConfigs").MULTI_POST];c={isTrayBasedPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST},isCreatorStudioPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST||a===b("ComposerEntryPointRef").MEDIA_MANAGER},canShowGlobalComposerEntryPoints:function(a){return a===b("MediaManagerTab").HOME||a===b("MediaManagerTab").CONTENT||a===b("MediaManagerTab").INSIGHTS||a===b("MediaManagerTab").MONETIZATION}};e.exports={CreatorStudioComposerUtils:c,COMPOSER_ENTRY_POINTS:a}}),null);
__d("XSproutPromotionUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/sprouts/promotions/update/",{promotion_id:{type:"Int"},increment_view:{type:"Exists",defaultValue:!1},end_promotion:{type:"Exists",defaultValue:!1},current_promotion:{type:"Exists",defaultValue:!1}})}),null);
__d("ReactComposerSproutBadgePromotionUtils",["AsyncRequest","ReactComposerActions","XSproutPromotionUpdateController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initWWWPromotion:function(a){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("current_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send()},addView:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("increment_view",!0).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a.payload&&a.payload.clear_badge_on_next_composer&&b("ReactComposerActions").setQueueFinishedSproutPromotion(c)}).send();b("ReactComposerActions").setLoggedSproutPromotionView(c)},endPromotion:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("end_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send();b("ReactComposerActions").setFinishedSproutPromotion(c)}};e.exports=a}),null);
__d("ReactComposerMediaSprout.react",["cx","Arbiter","ComposerEntryPointRef","ComposerTestID","CreatorStudioComposerUtils","ExtensibleSproutsItemType","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerStore","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CreatorStudioComposerUtils").CreatorStudioComposerUtils;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===b("ExtensibleSproutsItemType").MEDIA&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").endPromotion(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)),a.stopPropagation()}.bind(this),this.$3=function(a){b("ReactComposerLoggingActions").composerEntry(this.context.composerID,b("ReactComposerLoggingName").MEDIA_SPROUT),a||b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),this.$1=function(a){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,b("ExtensibleSproutsItemType").MEDIA,b("ReactComposerStore").getSproutSurface(this.context.composerID),null,b("ReactComposerLoggingName").MEDIA_SPROUT)}.bind(this),c}a.prototype.render=function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA],c=i.isCreatorStudioPagesComposer(this.props.config.loggingConfig.ref);c=c&&this.props.mediaType=="MEDIA"?b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").MULTIMEDIA]:this.props.uiConfig;var d=a.noFilePicker&&!this.props.highlighted;if(d)return b("React").createElement(b("ShimButton.react"),{onClick:this.$1,"data-testid":"photo-video-button"},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted,linkRole:"presentation"}));else return b("React").createElement("div",{onMouseDown:function(a){return a.preventDefault()},className:"_6a _4mvf _fk5"},b("React").createElement(b("ReactComposerMediaFilePickerController.react"),{containerClassName:"_5g_r",loggingName:this.props.uiConfig.loggingName,disableFaceRecognition:a.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,mediaConfig:a,mediaType:this.props.mediaType,onClick:this.$2,onFilesSelected:this.$3,photoLimit:a.photoLimit,targetData:this.props.config.targetData,webDriverTestID:b("ComposerTestID").MEDIA_SPROUT},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted})))};a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").MEDIA],highlighted:!1,mediaType:"MEDIA"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ComposerSproutsConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NUM_EXTENSIBLE_ROWS:"2.5"})}),null);
__d("ReactComposerSproutsStyleUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function(a,b){a=this.calculateSproutContainerHeight(a);var c=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,d=Math.round(Math.max(b-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/c);b=Math.round((b+a-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/c);return{start:d,end:b}},calculateVisibleSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=d>=a.start*this.SPROUTS_PER_ROW&&d<(a.end+1)*this.SPROUTS_PER_ROW;c[b[d]]=e}return c},calculateVisibleInlineSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=a.indexOf(b[d])>=0;c[b[d]]=e}return c},calculateSproutContainerHeight:function(a){return a*this.SPROUT_HEIGHT_PX+Math.floor(a)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};e.exports=a}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","ComposerSproutsConstants","ComposerTargetType","ComposerTestID","ComposerWaterfallEvent","ExtensibleSproutsItemType","Grid.react","React","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","ReactComposerStore","SproutConfigConstants","debounce","getObjectValues","joinClasses","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$8=function(){this.$3(b("ComposerWaterfallEvent").SPROUTS_SCROLL)}.bind(this),c}a.prototype.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};a.prototype.componentDidMount=function(){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?window.setTimeout(function(){this.$3(b("ComposerWaterfallEvent").SPROUTS_INITIAL)}.bind(this),0):this.$4(b("ComposerWaterfallEvent").SPROUTS_INITIAL)};a.prototype.componentDidUpdate=function(a){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&this.$3(b("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE),this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&this.$4(b("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE)};a.prototype.render=function(){var a=this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?this.$5():this.$6(),c=this.$7();return b("React").createElement("div",{className:"_16ve"+(this.props.sproutsDisplayState!==b("ReactComposerSproutsDisplayState").EXPANDED?" _7i31":""),style:c,ref:function(a){return this.$1=a}.bind(this),onScroll:this.context.gks.extensibleSproutsNumRows&&b("debounce")(this.$8)},a)};a.prototype.$7=function(){var a=b("ReactComposerStore").getTargetType(this.context.composerID);if(!this.context.gks.lazySproutsExpand&&a!==b("ComposerTargetType").GROUP&&a!==b("ComposerTargetType").PAGE){a=parseFloat(b("ComposerSproutsConstants").NUM_EXTENSIBLE_ROWS);a=b("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(a);return{maxHeight:a+"px",overflowY:"auto"}}else return{}};a.prototype.$3=function(a){if(!this.$1)return;var c=b("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$1.scrollTop);c=b("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(c,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){a=this.props.config.sproutsPromotionConfig.sprout;!this.props.hasLoggedSproutPromotionView&&a&&(c[a]===!0&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)))}};a.prototype.$4=function(a){var c=b("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$2,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};a.prototype.$9=function(a,c){return b("React").createElement("li",{className:"_5xmp",key:c},a)};a.prototype.$6=function(){__p&&__p();var a=[];this.$2=[];var c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||!this.$11(c[d[e]])||this.$12(d[e]))continue;if(this.$13(d[e],a))break}a.length<=3||h(0,4256);return b("React").createElement("ul",{className:"_16vg"+(a.length===3?" _1oxv":"")},a,this.$9(b("React").createElement(b("ReactComposerEllipsisSproutContainer.react"),null),"ELLIPSIS"))};a.prototype.$5=function(){var a=[],c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||this.$12(d[e]))continue;this.props.sprouts[d[e]]||h(0,4257,d[e]);a.push(b("React").createElement(j,{key:d[e]},this.props.sprouts[d[e]]))}return b("React").createElement("div",{"data-testid":b("ComposerTestID").EXPANDED_SPROUT_LIST,className:"_16vl"},b("React").createElement(b("Grid.react"),{cols:2,fixed:!0,spacing:b("joinClasses")("pas","_1fng")},a))};a.prototype.$10=function(a){return!!a&&a.enabled};a.prototype.$11=function(a){return this.$10(a)};a.prototype.$12=function(a){return!!this.props.isGroupTabSelected&&!this.$14(a)};a.prototype.$14=function(a){return a===b("ExtensibleSproutsItemType").MINUTIAE||a===b("ExtensibleSproutsItemType").LOCATION||a===b("ExtensibleSproutsItemType").WITH_TAG||a===b("ExtensibleSproutsItemType").MEDIA};a.prototype.$13=function(a,c){this.props.sprouts[a]||h(0,4257,a);this.$2.push(a);c.push(this.$9(this.props.sprouts[a],a));return c.length>=b("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT?!0:!1};a.contextTypes=b("ReactComposerContextTypes");a.childContextTypes={hasFinishedSproutPromotion:c.bool.isRequired,promotionID:c.number,promotedSprout:c.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:c.string};e.exports=a}),null);
__d("ReactComposerSproutsList.react",["ErrorBoundary.react","ExtensibleSproutsItemType","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerSproutsListRenderer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{sprouts:this.$1()}))};a.prototype.$1=function(){__p&&__p();var a=this.props.config.sproutsConfig,c={};if(a)for(var d in a){var e=b("ExtensibleSproutsItemType")[d];if(a[e].enabled!==!0)continue;var f=b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[e];this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===e&&(f.sprout=e);f.hasFormatting=this.props.richTextInStatus;var g=this.props.fakeSprouts!==!0?this.props.sproutModules[e]||b("ReactComposerLazySproutContainer.react"):b("ReactComposerSproutItem.react");c[e]=b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(g,{uiConfig:f,config:this.props.config}))}return c};a.prototype.$2=function(a){b("ReactComposerActions").expandSprouts(this.context.composerID)};function a(){g.apply(this,arguments)}a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","ExtensibleSproutsItemType","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStatusStore","ReactComposerStore","ifRequired","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={additionalSproutModules:{},bootloading:!1,orderedSprouts:[]},this.$2={}}a.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerStatusStore")];b("ifRequired")("ReactComposerPostToGroupStore",function(b){a.push(b)});return a};a.calculateState=function(a,c,d){a=!1;b("ifRequired")("ReactComposerPostToGroupStore",function(b){a=b.getIsTabSelected(d.composerID)});return{sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),isGroupTabSelected:a,hasLoggedSproutPromotionView:b("ReactComposerStore").hasLoggedSproutPromotionView(d.composerID),hasFinishedSproutPromotion:b("ReactComposerStore").hasFinishedSproutPromotion(d.composerID),orderedSprouts:b("ReactComposerStore").getOrderedSprouts(d.composerID),richTextInStatus:b("ReactComposerStatusStore").getRichTextBlocks(d.composerID)!==null}};a.prototype.componentDidMount=function(){this.$1=!1,(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};a.prototype.componentDidUpdate=function(){(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};a.prototype.componentWillUnmount=function(){this.$1=!0};a.prototype.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return b("React").createElement(b("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion,orderedSprouts:this.state.orderedSprouts,richTextInStatus:this.state.richTextInStatus})};a.prototype.$3=function(){__p&&__p();var a=this;if(this.state.bootloading)return;var c=this.props.config.sproutsConfig,d={};for(var e in c){var f=b("ExtensibleSproutsItemType")[e];if(!c[f].enabled||!c[f].lazyLoad)continue;this.context.jsResources.sprouts[f]||g(0,4479,f);d[f]=this.context.jsResources.sprouts[f]}f=function(c){b("promiseDone")(d[c].load(),function(a){if(this.$1)return;this.$2[c]=a;this.setState({additionalSproutModules:Object.assign({},this.$2)})}.bind(a))};for(var h in d)f(h);this.setState({bootloading:!0})};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=babelHelpers.inherits(i,b("React").PureComponent);h=a&&a.prototype;function i(a,b){h.constructor.call(this,a,b),this.beforeCalculateInitialState(this.context.composerID,this.props),this.state=i.calculateState(this.state,this.props,this.context)}i.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerFocusStore"),b("ReactComposerAudienceStore")]};i.prototype.beforeCalculateInitialState=function(a,c){c.expandOnInit&&(this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID),b("ReactComposerAttachmentActions").initializeAttachment(a,c.defaultAttachmentOnExpand,!0,b("ReactComposerLoggingName").OTHERS))};i.calculateState=function(a,c,d){a=d.composerID;return{displayState:b("ReactComposerStore").getSproutsDisplayState(a),isFocused:b("ReactComposerFocusStore").isComposerFocused(a),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};i.prototype.UNSAFE_componentWillMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(a,c){return this.$2(b("ReactComposerLoggingName").PROMPT,c&&c.selectedTagger)}.bind(this)))};i.prototype.render=function(){return b("React").createElement("div",{className:"_1cx1"+(this.state.displayState===b("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===b("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":"")+(this.state.messengerSectionVisible?" _1qf9":""),onClick:function(a){this.$2(b("ReactComposerLoggingName").INLINE_COMPOSER),this.props.onClick&&this.props.onClick(a)}.bind(this),role:"presentation"},b("React").createElement(b("ReactComposer.react"),this.props.innerProps,this.props.children))};i.prototype.$2=function(a,c){if(!this.state.isFocused){this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID);b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,!0,a);var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,d||this.props.defaultAttachmentOnExpand,!0,a);c&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,c.loggingName,c.taggerType);(!b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===b("ReactComposerTaggerType").FORMATTED_TEXT)&&setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}};i.defaultProps={expandOnInit:!1};i.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(i,{withContext:!0,withProps:!0})}),null);
__d("getBlockNumberAndOffsetFromText",["splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){a=a.slice(0,c);a=b("splitTextIntoTextBlocks")(a);var d=a.map(function(a){return a.length}).slice(0,-1);d=d.reduce(function(a,b){return a+b+1},0);return{block:a.length-1,offset:c?c-d:0}}e.exports=a}),null);
__d("ReactComposerPrefillMentionsInput",["EditorState","SelectionState","createEditorStateWithRanges","getBlockNumberAndOffsetFromText","getMentionsInputDecorator"],(function(a,b,c,d,e,f){__p&&__p();a={createEditorState:function(a,c){__p&&__p();if(!a||!a.text)return b("EditorState").createEmpty();var d=a.ranges||[];d=b("createEditorStateWithRanges")({text:a.text,ranges:d,decorator:b("getMentionsInputDecorator")(),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("MENTION","IMMUTABLE",{id:a.id,isWeak:!!a.weakreference,type:a.type})}});if(c){var e=d.getCurrentContent().getBlockMap(),f=b("getBlockNumberAndOffsetFromText")(a.text,c.start);a=b("getBlockNumberAndOffsetFromText")(a.text,c.end);d=b("EditorState").acceptSelection(d,new(b("SelectionState"))({anchorKey:e.skip(f.block).first().getKey(),anchorOffset:f.offset,focusKey:e.skip(a.block).first().getKey(),focusOffset:a.offset,isBackward:!1}))}else d=b("EditorState").moveSelectionToEnd(d);return d},getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c=[],d=0;b.getBlockMap().forEach(function(a){a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.get(g);c.push({entity:{id:Number(g.getData().id),workForeignEntity:!1,type:g.getData().type,url:""},length:f-e,offset:e+d})}),d+=a.getLength()+1});return c}};e.exports=a}),null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/question/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);