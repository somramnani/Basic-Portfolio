if (self.CavalryLogger) { CavalryLogger.start_js(["wr+ap"]); }

__d("ProfilePicMenuDialogInitializer",["AccessibleLayer","Arbiter","BanzaiLogger","DataStore","Event","Layer","Parent","ProfilePictureFlowLogging","TabIsolation","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g="data-logging-event";function a(a,c,d,e,f,i){__p&&__p();h(a);var j=!1;b("ProfilePictureFlowLogging").init(c,i);b("tidyEvent")([a.subscribe("beforehide",function(c){return j?!0:a===b("Layer").getTopmostLayer()}),b("Arbiter").subscribe("videoUpload/complete",function(){j=!0,a.hide()}),a.subscribe("hide",function(a){a=Math.floor(Date.now()/1e3);b("BanzaiLogger").log("ProfilePicMenuDialogAlbumSetsActionLoggerConfig",{time_spent_in_seconds:a-e})}),b("Event").listen(c,"click",function(a){a=b("Parent").byAttribute(a.getTarget(),g);if(!a)return;b("BanzaiLogger").log("ProfilePicMenuDialogAlbumSetsActionLoggerConfig",JSON.parse(b("DataStore").get(a,"logging-event")))})])}function h(a){new(b("AccessibleLayer"))(a).enable(),new(b("TabIsolation"))(a).enable()}e.exports=a}),null);
__d("MakeProfilePicInit",["ProfilePicCropViewerInit","URI"],(function(a,b,c,d,e,f){a={handleOptimus:function(a,c,d){d.preventDefault();a=new(b("URI"))(c.getAttribute("ajaxify")||c.getAttribute("href")).getQueryData();b("ProfilePicCropViewerInit").loadID(a.fbid,a.profile_id,{source:a.pp_source,stickerID:a.sticker_id})}};e.exports=a}),null);